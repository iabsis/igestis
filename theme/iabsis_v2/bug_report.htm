<!-- INCLUDE overall_header.htm -->
<h1>{LANG_BUG_REPORT_TITLE}</h1>
<h2>{LANG_BUG_REPORT_DESCRIPTION}</h2>
<!-- INCLUDE overall_header2.htm -->

<script language="javascript">

    function p_focused(field)
    {
        document.getElementById("p_" + field).className = "p_focused";
    }

    function p_blur(name, clear)
    {
        var p = document.getElementById("p_" + name);
        var span = document.getElementById("span_" + name);
        var field = document.getElementById(name);
	

        if(clear == true) p.className = "";

        if(name == "bug_title_label") {
            if(field.value == "") {
                span.innerHTML = "{LANG_Required_field}";
            }
            else {
                span.innerHTML = "{LANG_Valide_field_form}";
            }
        }

        if(name == "email") {
            if(!is_email(field.value)) {
                span.innerHTML = "{LANG_Email_invalid}";
            }
            else {
                span.innerHTML = "{LANG_Valide_field_form}";
            }
        }

        if(name == "wanted_to_do") {
            if(field.value == "") {
                span.innerHTML = "{LANG_Required_field}";
            }
            else {
                span.innerHTML = "{LANG_Valide_field_form}";
            }
        }

        if(name == "what_appened") {
            if(field.value == "") {
                span.innerHTML = "{LANG_Required_field}";
            }
            else {
                span.innerHTML = "{LANG_Valide_field_form}";
            }
        }

        if(name == "what_expected") {
            if(field.value == "") {
                span.innerHTML = "{LANG_Required_field}";
            }
            else {
                span.innerHTML = "{LANG_Valide_field_form}";
            }
        }
	
        // Verify the validity of the field
	
    }


    function valid_form()
    {
        var title_field = document.getElementById("bug_title_label");
        var email_field = document.getElementById("email");
        var wanted_to_do_field = document.getElementById("wanted_to_do");
        var what_appened_field = document.getElementById("what_appened");
        var what_expected_field = document.getElementById("what_expected");


        if(title_field.value == "") {
            p_blur(title_field.id);
            title_field.focus();
            return false;
        }

        if(!is_email(email_field.value)) {
            p_blur(email_field.id);
            email_field.select();
            return false;
        }

        if(wanted_to_do_field.value == "") {
            p_blur(wanted_to_do_field.id);
            wanted_to_do_field.focus();
            return false;
        }

        if(what_appened_field.value == "") {
            p_blur(what_appened_field.id);
            what_appened_field.focus();
            return false;
        }

        if(what_expected_field.value == "") {
            p_blur(what_expected_field.id);
            what_expected_field.focus();
            return false;
        }

        if(!confirm("{LANG_Do_you_want_to_send_log_file}")) return false;
        return true;
    }
</script>


<div class="main-content-top-actions">
    <span class="inner"></span>
</div>

<div class="main-content-footer">
    <span class="inner">
        <form name="user" action="updatedb.php" method="post" class="popup_form"  onsubmit="return valid_form()">

            <!-- Champ de formulaire masqués mais qui doivent être transmis à updatedb.php -->
            <input type="hidden" name="section" value="bug_report" />
            <input type="hidden" name="page_url" value="{passed_page_url}" />

            <fieldset class="left">
                <div class="upperleft">
                    <div class="upperright">
                        <div class="lowerleft">
                            <div class="lowerright">
                                <h5>Contact</h5>

                                <p id="p_bug_title_label">
                                    <label for="bug_title_label">{LANG_Bug_title}</label>
                                    <input  type="text" value="{bug_title}" id="bug_title_label" name="bug_title_label" onFocus="javascript:p_focused(this.name)" onBlur="javascript:p_blur(this.name,true)" />
                                    <span class="error_message" id="span_bug_title_label"></span>
                                    <script type="text/javascript">document.getElementById('bug_title_label').select();</script>
                                </p>

                                <p id="p_email">
                                    <label for="email">{LANG_eMail}</label>
                                    <input type="text" value="{email}" id="email" name="email" onFocus="javascript:p_focused(this.name)" onBlur="javascript:p_blur(this.name,true)" />
                                    <span class="error_message" id="span_email"></span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>

            <fieldset class="right">
                <div class="upperleft">
                    <div class="upperright">
                        <div class="lowerleft">
                            <div class="lowerright">
                                <h5>{LANG_Bug_Description}</h5>

                                <p id="p_wanted_to_do">
                                    <label for="wanted_to_do">{LANG_Wanted_to_do}</label>
                                    <textarea name="wanted_to_do" id="wanted_to_do" style="width:190px; height: 70px;" onFocus="javascript:p_focused(this.name)" onBlur="javascript:p_blur(this.name,true)"></textarea>
                                    <span class="error_message" id="span_wanted_to_do"></span>
                                </p>

                                <p id="p_what_appened">
                                    <label for="what_appened">{LANG_What_appened}</label>
                                    <textarea name="what_appened" id="what_appened" style="width:190px; height: 70px;" onFocus="javascript:p_focused(this.name)" onBlur="javascript:p_blur(this.name,true)"></textarea>
                                    <span class="error_message" id="span_what_appened"></span>
                                </p>

                                <p id="p_what_expected">
                                    <label for="what_expected">{LANG_What_expected}</label>
                                    <textarea name="what_expected" id="what_expected" style="width:190px; height: 70px;" onFocus="javascript:p_focused(this.name)" onBlur="javascript:p_blur(this.name,true)"></textarea>
                                    <span class="error_message" id="span_what_expected"></span>
                                </p>

                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>


            <hr />
            <input type="image" src="{TEMPLATE_URL}images/bt_valider.gif" class="img" />
        </form>

    </span>
</div>



<!-- INCLUDE overall_footer.htm -->
