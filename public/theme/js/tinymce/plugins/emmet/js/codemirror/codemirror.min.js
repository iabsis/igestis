window.CodeMirror=function(){"use strict";function e(i,o){if(!(this instanceof e))return new e(i,o);this.options=o=o||{};for(var a in ei)!o.hasOwnProperty(a)&&ei.hasOwnProperty(a)&&(o[a]=ei[a]);d(o);var u=this.display=t(i);u.wrapper.CodeMirror=this,s(this),o.autofocus&&!Un&&Q(this),this.view=r(new Nr([new zr([gr("",null,K(u))])])),this.nextOpId=0,n(this),l(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),this.setValue(o.value||""),Wn&&setTimeout(on(J,this,!0),20),this.view.history=Ir(),tt(this);var c;try{c=document.activeElement==u.input}catch(f){}c||o.autofocus&&!Un?setTimeout(on(gt,this),20):yt(this),G(this,function(){for(var e in Qn)Qn.propertyIsEnumerable(e)&&Qn[e](this,o[e],ti);for(var t=0;oi.length>t;++t)oi[t](this)})()}function t(e){var t={},r=t.input=sn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");r.setAttribute("wrap","off"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),t.inputDiv=sn("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),t.scrollbarH=sn("div",[sn("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),t.scrollbarV=sn("div",[sn("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),t.scrollbarFiller=sn("div",null,"CodeMirror-scrollbar-filler"),t.lineDiv=sn("div"),t.selectionDiv=sn("div",null,null,"position: relative; z-index: 1"),t.cursor=sn("pre"," ","CodeMirror-cursor"),t.otherCursor=sn("pre"," ","CodeMirror-cursor CodeMirror-secondarycursor"),t.measure=sn("div",null,"CodeMirror-measure"),t.lineSpace=sn("div",[t.measure,t.selectionDiv,t.lineDiv,t.cursor,t.otherCursor],null,"position: relative; outline: none"),t.mover=sn("div",[sn("div",[t.lineSpace],"CodeMirror-lines")],null,"position: relative"),t.sizer=sn("div",[t.mover],"CodeMirror-sizer"),t.heightForcer=sn("div"," ",null,"position: absolute; height: "+ci+"px"),t.gutters=sn("div",null,"CodeMirror-gutters"),t.lineGutter=null;var n=sn("div",[t.sizer,t.heightForcer,t.gutters],null,"position: relative; min-height: 100%");return t.scroller=sn("div",[n],"CodeMirror-scroll"),t.scroller.setAttribute("tabIndex","-1"),t.wrapper=sn("div",[t.inputDiv,t.scrollbarH,t.scrollbarV,t.scrollbarFiller,t.scroller],"CodeMirror"),On&&(t.gutters.style.zIndex=-1,t.scroller.style.paddingRight=0),e.appendChild?e.appendChild(t.wrapper):e(t.wrapper),Kn&&(r.style.width="0px"),Dn||(t.scroller.draggable=!0),Rn?(t.inputDiv.style.height="1px",t.inputDiv.style.position="absolute"):On&&(t.scrollbarH.style.minWidth=t.scrollbarV.style.minWidth="18px"),t.viewOffset=t.showingFrom=t.showingTo=t.lastSizeC=0,t.lineNumWidth=t.lineNumInnerWidth=t.lineNumChars=null,t.prevInput="",t.alignWidgets=!1,t.pollingFast=!1,t.poll=new Zr,t.draggingText=!1,t.cachedCharWidth=t.cachedTextHeight=null,t.measureLineCache=[],t.measureLineCachePos=0,t.inaccurateSelection=!1,t.pasteIncoming=!1,t}function r(e){var t={line:0,ch:0};return{doc:e,frontier:0,highlight:new Zr,sel:{from:t,to:t,head:t,anchor:t,shift:!1,extend:!1},scrollTop:0,scrollLeft:0,overwrite:!1,focused:!1,maxLine:Ar(e,0),maxLineLength:0,maxLineChanged:!1,suppressEdits:!1,goalColumn:null,cantEdit:!1,keyMaps:[]}}function n(t){var r=t.view.doc;t.view.mode=e.getMode(t.options,t.options.mode),r.iter(0,r.size,function(e){e.stateAfter=null}),t.view.frontier=0,z(t,100)}function i(e){var t=e.view.doc,r=K(e.display);if(e.options.lineWrapping){e.display.wrapper.className+=" CodeMirror-wrap";var n=e.display.scroller.clientWidth/U(e.display)-3;t.iter(0,t.size,function(e){if(0!=e.height){var t=Math.ceil(e.text.length/n)||1;1!=t&&Wr(e,t*r)}}),e.display.sizer.style.minWidth=""}else e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),c(e.view),t.iter(0,t.size,function(e){0!=e.height&&Wr(e,r)});$(e,0,t.size),F(e),setTimeout(function(){f(e.display,e.view.doc.height)},100)}function o(e){var t=ai[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),F(e)}function a(e){s(e),y(e,!0)}function s(e){var t=e.display.gutters,r=e.options.gutters;un(t);for(var n=0;r.length>n;++n){var i=r[n],o=t.appendChild(sn("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none"}function u(e,t){if(0==t.height)return 0;for(var r,n=t.text.length,i=t;r=ar(i);){var o=r.find();i=Ar(e,o.from.line),n+=o.from.ch-o.to.ch}for(i=t;r=sr(i);){var o=r.find();n-=i.text.length-o.from.ch,i=Ar(e,o.to.line),n+=i.text.length-o.to.ch}return n}function c(e){e.maxLine=Ar(e.doc,0),e.maxLineLength=u(e.doc,e.maxLine),e.maxLineChanged=!0,e.doc.iter(1,e.doc.size,function(t){var r=u(e.doc,t);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=t)})}function d(e){for(var t=!1,r=0;e.gutters.length>r;++r)"CodeMirror-linenumbers"==e.gutters[r]&&(e.lineNumbers?t=!0:e.gutters.splice(r--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function f(e,t){var r=t+2*O(e);e.sizer.style.minHeight=e.heightForcer.style.top=r+"px";var n=Math.max(r,e.scroller.scrollHeight),i=e.scroller.scrollWidth>e.scroller.clientWidth,o=n>e.scroller.clientHeight;o?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=i?fn(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=n-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",i?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=o?fn(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",i&&o?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=fn(e.measure)+"px"):e.scrollbarFiller.style.display="",Vn&&0===fn(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Bn?"18px":"12px")}function h(e,t,r){var n=e.scroller.scrollTop,i=e.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,i=r.bottom-r.top),n=Math.floor(n-O(e));var o=Math.ceil(n+i);return{from:Er(t,n),to:Er(t,o)}}function p(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild){for(var r=g(t)-t.scroller.scrollLeft+e.view.scrollLeft,n=t.gutters.offsetWidth,i=r+"px",o=t.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var l=0,a=o.alignable;a.length>l;++l)a[l].style.left=i;t.gutters.style.left=r+n+"px"}}function m(e){if(!e.options.lineNumbers)return!1;var t=e.view.doc,r=v(e.options,t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(sn("div",[sn("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l),n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function v(e,t){return e.lineNumberFormatter(t+e.firstLineNumber)+""}function g(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function y(e,t,r){var n=e.display.showingFrom,i=e.display.showingTo,o=b(e,t,r);return o&&(Yr(e,e,"update",e),(e.display.showingFrom!=n||e.display.showingTo!=i)&&Yr(e,e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),L(e),f(e.display,e.view.doc.height),o}function b(e,t,r){var n=e.display,i=e.view.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=n.viewOffset=0,void 0;var o=h(n,i,r);if(!(t!==!0&&0==t.length&&o.from>n.showingFrom&&o.to<n.showingTo)){if(t&&m(e)&&(t=!0),n.sizer.style.marginLeft=n.scrollbarH.style.left=n.gutters.offsetWidth+"px",t!==!0&&Gn)for(var l=0;t.length>l;++l)for(var a,s=t[l];a=ar(Ar(i,s.from));){var u=a.find().from.line;s.diff&&(s.diff-=s.from-u),s.from=u}var c=t===!0?0:1/0;if(e.options.lineNumbers&&t&&t!==!0)for(var l=0;t.length>l;++l)if(t[l].diff){c=t[l].from;break}var u=Math.max(o.from-e.options.viewportMargin,0),d=Math.min(i.size,o.to+e.options.viewportMargin);if(u>n.showingFrom&&20>u-n.showingFrom&&(u=n.showingFrom),n.showingTo>d&&20>n.showingTo-d&&(d=Math.min(i.size,n.showingTo)),Gn)for(u=Or(ur(i,Ar(i,u)));i.size>d&&cr(Ar(i,d));)++d;for(var f=t===!0?[]:w([{from:n.showingFrom,to:n.showingTo}],t),p=0,l=0;f.length>l;++l){var v=f[l];u>v.from&&(v.from=u),v.to>d&&(v.to=d),v.from>=v.to?f.splice(l--,1):p+=v.to-v.from}if(p!=d-u||u!=n.showingFrom||d!=n.showingTo){f.sort(function(e,t){return e.from-t.from}),.7*(d-u)>p&&(n.lineDiv.style.display="none"),k(e,u,d,f,c),n.lineDiv.style.display="";var g=u!=n.showingFrom||d!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;g&&(n.lastSizeC=n.wrapper.clientHeight),n.showingFrom=u,n.showingTo=d,z(e,100);for(var y,b=n.lineDiv.offsetTop,x=n.lineDiv.firstChild;x;x=x.nextSibling)if(x.lineObj){if(On){var C=x.offsetTop+x.offsetHeight;y=C-b,b=C}else{var L=x.getBoundingClientRect();y=L.bottom-L.top}var M=x.lineObj.height-y;2>y&&(y=K(n)),(M>.001||-.001>M)&&Wr(x.lineObj,y)}return n.viewOffset=Dr(e,Ar(i,u)),n.mover.style.top=n.viewOffset+"px",!0}}}function w(e,t){for(var r=0,n=t.length||0;n>r;++r){for(var i=t[r],o=[],l=i.diff||0,a=0,s=e.length;s>a;++a){var u=e[a];i.to<=u.from&&i.diff?o.push({from:u.from+l,to:u.to+l}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from}),i.to<u.to&&o.push({from:i.to+l,to:u.to+l}))}e=o}return e}function x(e){for(var t=e.display,r={},n={},i=t.gutters.firstChild,o=0;i;i=i.nextSibling,++o)r[e.options.gutters[o]]=i.offsetLeft,n[e.options.gutters[o]]=i.offsetWidth;return{fixedPos:g(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function k(e,t,r,n,i){function o(t){var r=t.nextSibling;return Dn&&_n&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):u.removeChild(t),r}var l=x(e),a=e.display,s=e.options.lineNumbers;n.length||Wn||Dn&&e.display.currentWheelTarget||un(a.lineDiv);var u=a.lineDiv,c=u.firstChild,d=n.shift(),f=t;for(e.view.doc.iter(t,r,function(t){if(d&&d.to==f&&(d=n.shift()),cr(t))0!=t.height&&Wr(t,0);else if(d&&f>=d.from&&d.to>f){for(;c.lineObj!=t;)c=o(c);s&&f>=i&&c.lineNumber&&dn(c.lineNumber,v(e.options,f)),c=c.nextSibling}else{var r=C(e,t,f,l);u.insertBefore(r,c),r.lineObj=t}++f});c;)c=o(c)}function C(e,t,r,n){var i=Cr(e,t),o=t.gutterMarkers,l=e.display;if(!(e.options.lineNumbers||o||t.bgClass||t.wrapClass||t.widgets&&t.widgets.length))return i;var a=sn("div",null,t.wrapClass,"position: relative");if(e.options.lineNumbers||o){var s=a.appendChild(sn("div",null,null,"position: absolute; left: "+n.fixedPos+"px"));if(a.alignable=[s],!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(a.lineNumber=s.appendChild(sn("div",v(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),o)for(var u=0;e.options.gutters.length>u;++u){var c=e.options.gutters[u],d=o.hasOwnProperty(c)&&o[c];d&&s.appendChild(sn("div",[d],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}if(t.bgClass&&a.appendChild(sn("div"," ",t.bgClass+" CodeMirror-linebackground")),a.appendChild(i),t.widgets)for(var f=0,h=t.widgets;h.length>f;++f){var p=h[f],m=sn("div",[p.node],"CodeMirror-linewidget");if(m.widget=p,p.noHScroll){(a.alignable||(a.alignable=[])).push(m);var g=n.wrapperWidth;m.style.left=n.fixedPos+"px",p.coverGutter||(g-=n.gutterTotalWidth,m.style.paddingLeft=n.gutterTotalWidth+"px"),m.style.width=g+"px"}p.coverGutter&&(m.style.zIndex=5,m.style.position="relative",p.noHScroll||(m.style.marginLeft=-n.gutterTotalWidth+"px")),p.above?a.insertBefore(m,e.options.lineNumbers&&0!=t.height?s:i):a.appendChild(m)}return On&&(a.style.zIndex=2),a}function L(e){var t=e.display,r=Mt(e.view.sel.from,e.view.sel.to);r||e.options.showCursorWhenSelecting?M(e):t.cursor.style.display=t.otherCursor.style.display="none",r?t.selectionDiv.style.display="none":S(e);var n=V(e,e.view.sel.head,"div"),i=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+o.top-i.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+o.left-i.left))+"px"}function M(e){var t=e.display,r=V(e,e.view.sel.head,"div");t.cursor.style.left=r.left+"px",t.cursor.style.top=r.top+"px",t.cursor.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",t.cursor.style.display="",r.other?(t.otherCursor.style.display="",t.otherCursor.style.left=r.other.left+"px",t.otherCursor.style.top=r.other.top+"px",t.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):t.otherCursor.style.display="none"}function S(e){function t(e,t,r,n){0>t&&(t=0),l.appendChild(sn("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?a-e:r)+"px; height: "+(n-t)+"px"))}function r(r,n,o,l){function u(t){return R(e,{line:r,ch:t},"div",c)}var c=Ar(i,r),d=c.text.length,f=l?1/0:-1/0;return pn(Hr(c),n||0,null==o?d:o,function(e,r,i){var c=u("rtl"==i?r-1:e),h=u("rtl"==i?e:r-1),p=c.left,m=h.right;h.top-c.top>3&&(t(p,c.top,null,c.bottom),p=s,c.bottom<h.top&&t(p,c.bottom,null,h.top)),null==o&&r==d&&(m=a),null==n&&0==e&&(p=s),f=l?Math.min(h.top,f):Math.max(h.bottom,f),s+1>p&&(p=s),t(p,h.top,m-p,h.bottom)}),f}var n=e.display,i=e.view.doc,o=e.view.sel,l=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,s=E(e.display);if(o.from.line==o.to.line)r(o.from.line,o.from.ch,o.to.ch);else{for(var u,c,d=Ar(i,o.from.line),f=d,h=[o.from.line,o.from.ch];u=sr(f);){var p=u.find();if(h.push(p.from.ch,p.to.line,p.to.ch),p.to.line==o.to.line){h.push(o.to.ch),c=!0;break}f=Ar(i,p.to.line)}if(c)for(var m=0;h.length>m;m+=3)r(h[m],h[m+1],h[m+2]);else{var v,g,y=Ar(i,o.to.line);v=o.from.ch?r(o.from.line,o.from.ch,null,!1):Dr(e,d)-n.viewOffset,g=o.to.ch?r(o.to.line,ar(y)?null:0,o.to.ch,!0):Dr(e,y)-n.viewOffset,g>v&&t(s,v,null,g)}}cn(n.selectionDiv,l),n.selectionDiv.style.display=""}function T(e){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.offsetHeight&&(t.cursor.style.visibility=t.otherCursor.style.visibility=(r=!r)?"":"hidden")},e.options.cursorBlinkRate)}function z(e,t){e.view.frontier<e.display.showingTo&&e.view.highlight.set(t,on(N,e))}function N(e){var t=e.view,r=t.doc;if(!(t.frontier>=e.display.showingTo)){var n,i=+new Date+e.options.workTime,o=_t(t.mode,W(e,t.frontier)),l=[];r.iter(t.frontier,Math.min(r.size,e.display.showingTo+500),function(r){return t.frontier>=e.display.showingFrom?(wr(e,r,o)&&t.frontier>=e.display.showingFrom&&(n&&n.end==t.frontier?n.end++:l.push(n={start:t.frontier,end:t.frontier+1})),r.stateAfter=_t(t.mode,o)):(xr(e,r,o),r.stateAfter=0==t.frontier%5?_t(t.mode,o):null),++t.frontier,+new Date>i?(z(e,e.options.workDelay),!0):void 0}),l.length&&G(e,function(){for(var e=0;l.length>e;++e)$(this,l[e].start,l[e].end)})()}}function A(e,t){for(var r,n,i=e.view.doc,o=t,l=t-100;o>l;--o){if(0==o)return 0;var a=Ar(i,o-1);if(a.stateAfter)return o;var s=Jr(a.text,null,e.options.tabSize);(null==n||r>s)&&(n=o-1,r=s)}return n}function W(e,t){var r=e.view,n=A(e,t),i=n&&Ar(r.doc,n-1).stateAfter;return i=i?_t(r.mode,i):qt(r.mode),r.doc.iter(n,t,function(o){xr(e,o,i);var l=n==t-1||0==n%5||n>=r.showingFrom&&r.showingTo>n;o.stateAfter=l?_t(r.mode,i):null,++n}),i}function O(e){return e.lineSpace.offsetTop}function E(e){var t=cn(e.measure,sn("pre")).appendChild(sn("span","x"));return t.offsetLeft}function D(e,t,r,n){for(var n=n||H(e,t),i=-1,o=r;;o+=i){var l=n[o];if(l)break;0>i&&0==o&&(i=1)}return{left:r>o?l.right:l.left,right:o>r?l.left:l.right,top:l.top,bottom:l.bottom}}function H(e,t){for(var r=e.display,n=e.display.measureLineCache,i=0;n.length>i;++i){var o=n[i];if(o.text==t.text&&o.markedSpans==t.markedSpans&&r.scroller.clientWidth==o.width)return o.measure}var l=I(e,t),o={text:t.text,width:r.scroller.clientWidth,markedSpans:t.markedSpans,measure:l};return 16==n.length?n[++r.measureLineCachePos%16]=o:n.push(o),l}function I(e,t){var r=e.display,n=nn(t.text.length),i=Cr(e,t,n);if(Wn&&!On&&!e.options.lineWrapping&&i.childNodes.length>100){for(var o=document.createDocumentFragment(),l=10,a=i.childNodes.length,s=0,u=Math.ceil(a/l);u>s;++s){for(var c=sn("div",null,null,"display: inline-block"),d=0;l>d&&a;++d)c.appendChild(i.firstChild),--a;o.appendChild(c)}i.appendChild(o)}cn(r.measure,i);for(var f,h=r.lineDiv.getBoundingClientRect(),p=[],m=nn(t.text.length),v=i.offsetHeight,s=0;n.length>s;++s)if(f=n[s]){for(var g=f.getBoundingClientRect(),y=Math.max(0,g.top-h.top),b=Math.min(g.bottom-h.top,v),d=0;p.length>d;d+=2){var w=p[d],x=p[d+1];if(!(w>b||y>x)&&(y>=w&&x>=b||w>=y&&b>=x||Math.min(b,x)-Math.max(y,w)>=b-y>>1)){p[d]=Math.min(y,w),p[d+1]=Math.max(b,x);break}}d==p.length&&p.push(y,b),m[s]={left:g.left-h.left,right:g.right-h.left,top:d}}for(var f,s=0;m.length>s;++s)if(f=m[s]){var k=f.top;f.top=p[k],f.bottom=p[k+1]}return m}function F(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.view.maxLineChanged=!0}function P(e,t,r,n){if(t.widgets)for(var i=0;t.widgets.length>i;++i)if(t.widgets[i].above){var o=t.widgets[i].node.offsetHeight;r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=Dr(e,t);if("local"!=n&&(l-=e.display.viewOffset),"page"==n){var a=e.display.lineSpace.getBoundingClientRect();l+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var s=a.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);r.left+=s,r.right+=s}return r.top+=l,r.bottom+=l,r}function R(e,t,r,n){return n||(n=Ar(e.view.doc,t.line)),P(e,n,D(e,n,t.ch),r)}function V(e,t,r,n,i){function o(t,o){var l=D(e,n,t,i);return o?l.left=l.right:l.right=l.left,P(e,n,l,r)}n=n||Ar(e.view.doc,t.line),i||(i=H(e,n));var l=Hr(n),a=t.ch;if(!l)return o(a);for(var s,u,c=l[0].level,d=0;l.length>d;++d){var f,h,p=l[d],m=p.level%2;if(a>p.from&&p.to>a)return o(a,m);var v=m?p.to:p.from,g=m?p.from:p.to;if(v==a)h=d&&p.level<(f=l[d-1]).level?o(f.level%2?f.from:f.to-1,!0):o(m&&p.from!=p.to?a-1:a),m==c?s=h:u=h;else if(g==a){var f=l.length-1>d&&l[d+1];if(!m&&f&&f.from==f.to)continue;h=f&&p.level<f.level?o(f.level%2?f.to-1:f.from):o(m?a:a-1,!0),m==c?s=h:u=h}}return c&&!a&&(u=o(l[0].to-1)),s?(u&&(s.other=u),s):u}function B(e,t,r){var n=e.view.doc;if(r+=e.display.viewOffset,0>r)return{line:0,ch:0,outside:!0};var i=Er(n,r);if(i>=n.size)return{line:n.size-1,ch:Ar(n,n.size-1).text.length};for(0>t&&(t=0);;){var o=Ar(n,i),l=j(e,o,i,t,r),a=sr(o);if(!a||l.ch!=yn(o))return l;i=a.find().to.line}}function j(e,t,r,n,i){function o(n){var i=V(e,{line:r,ch:n},"line",t,u);return a=!0,l>i.bottom?Math.max(0,i.left-s):i.top>l?i.left+s:(a=!1,i.left)}var l=i-Dr(e,t),a=!1,s=e.display.wrapper.clientWidth,u=H(e,t),c=Hr(t),d=t.text.length,f=gn(t),h=yn(t),p=E(e.display),m=o(h);if(n>m)return{line:r,ch:h,outside:a};for(;;){if(c?h==f||h==xn(t,f,1):1>=h-f){for(var v=m-n>n-p,g=v?f:h;pi.test(t.text.charAt(g));)++g;return{line:r,ch:g,after:v,outside:a}}var y=Math.ceil(d/2),b=f+y;if(c){b=f;for(var w=0;y>w;++w)b=xn(t,b,1)}var x=o(b);x>n?(h=b,m=x,a&&(m+=1e3),d-=y):(f=b,p=x,d=y)}}function K(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Cn){Cn=sn("pre");for(var t=0;49>t;++t)Cn.appendChild(document.createTextNode("x")),Cn.appendChild(sn("br"));Cn.appendChild(document.createTextNode("x"))}cn(e.measure,Cn);var r=Cn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),un(e.measure),r||1}function U(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=sn("span","x"),r=sn("pre",[t]);cn(e.measure,r);var n=t.offsetWidth;return n>2&&(e.cachedCharWidth=n),n||10}function _(e){e.curOp?++e.curOp.depth:e.curOp={depth:1,changes:[],delayedCallbacks:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,id:++e.nextOpId}}function q(e){var t=e.curOp;if(!--t.depth){e.curOp=null;var r=e.view,n=e.display;if(t.updateMaxLine&&c(r),r.maxLineChanged&&!e.options.lineWrapping){var i=D(e,r.maxLine,r.maxLine.text.length).right;n.sizer.style.minWidth=i+3+ci+"px",r.maxLineChanged=!1}var o,l;if(t.selectionChanged){var a=V(e,r.sel.head);o=Pt(e,a.left,a.top,a.left,a.bottom)}(t.changes.length||o&&null!=o.scrollTop)&&(l=y(e,t.changes,o&&o.scrollTop)),!l&&t.selectionChanged&&L(e),o&&Ht(e),t.selectionChanged&&T(e),r.focused&&t.updateInput&&J(e,t.userSelChange),t.textChanged&&$r(e,"change",e,t.textChanged),t.selectionChanged&&$r(e,"cursorActivity",e);for(var s=0;t.delayedCallbacks.length>s;++s)t.delayedCallbacks[s](e)}}function G(e,t){return function(){var r=e||this;_(r);try{var n=t.apply(r,arguments)}finally{q(r)}return n}}function $(e,t,r,n){e.curOp.changes.push({from:t,to:r,diff:n})}function Y(e){e.view.pollingFast||e.display.poll.set(e.options.pollInterval,function(){Z(e),e.view.focused&&Y(e)})}function X(e){function t(){var n=Z(e);n||r?(e.display.pollingFast=!1,Y(e)):(r=!0,e.display.poll.set(60,t))}var r=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function Z(e){var t=e.display.input,r=e.display.prevInput,n=e.view,i=n.sel;if(!n.focused||wi(t)||et(e))return!1;var o=t.value;if(o==r&&Mt(i.from,i.to))return!1;_(e),n.sel.shift=!1;for(var l=0,a=Math.min(r.length,o.length);a>l&&r[l]==o[l];)++l;var s=i.from,u=i.to;r.length>l?s={line:s.line,ch:s.ch-(r.length-l)}:n.overwrite&&Mt(s,u)&&!e.display.pasteIncoming&&(u={line:u.line,ch:Math.min(Ar(e.view.doc,u.line).text.length,u.ch+(o.length-l))});var c=e.curOp.updateInput;return wt(e,s,u,bi(o.slice(l)),"end",e.display.pasteIncoming?"paste":"input",{from:s,to:u}),e.curOp.updateInput=c,o.length>1e3?t.value=e.display.prevInput="":e.display.prevInput=o,q(e),e.display.pasteIncoming=!1,!0}function J(e,t){var r,n,i=e.view;Mt(i.sel.from,i.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",r=xi&&(i.sel.to.line-i.sel.from.line>100||(n=e.getSelection()).length>1e3),e.display.input.value=r?"-":n||e.getSelection(),i.focused&&tn(e.display.input)),e.display.inaccurateSelection=r}function Q(e){"nocursor"==e.options.readOnly||!Wn&&document.activeElement==e.display.input||e.display.input.focus()}function et(e){return e.options.readOnly||e.view.cantEdit}function tt(e){function t(){e.view.focused&&setTimeout(on(Q,e),0)}function r(t){e.options.onDragEvent&&e.options.onDragEvent(e,Rr(t))||jr(t)}function n(){i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=e.getSelection(),tn(i.input))}var i=e.display;qr(i.scroller,"mousedown",G(e,it)),qr(i.scroller,"dblclick",G(e,Vr)),qr(i.lineSpace,"selectstart",function(e){rt(i,e)||Vr(e)}),An||qr(i.scroller,"contextmenu",function(t){bt(e,t)}),qr(i.scroller,"scroll",function(){st(e,i.scroller.scrollTop),ut(e,i.scroller.scrollLeft,!0),$r(e,"scroll",e)}),qr(i.scrollbarV,"scroll",function(){st(e,i.scrollbarV.scrollTop)}),qr(i.scrollbarH,"scroll",function(){ut(e,i.scrollbarH.scrollLeft)}),qr(i.scroller,"mousewheel",function(t){ct(e,t)}),qr(i.scroller,"DOMMouseScroll",function(t){ct(e,t)}),qr(i.scrollbarH,"mousedown",t),qr(i.scrollbarV,"mousedown",t),qr(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),qr(window,"resize",function o(){i.cachedCharWidth=i.cachedTextHeight=null,F(e),i.wrapper.parentNode?y(e,!0):Gr(window,"resize",o)}),qr(i.input,"keyup",G(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,Rr(t))||16==_r(t,"keyCode")&&(e.view.sel.shift=!1)})),qr(i.input,"input",on(X,e)),qr(i.input,"keydown",G(e,mt)),qr(i.input,"keypress",G(e,vt)),qr(i.input,"focus",on(gt,e)),qr(i.input,"blur",on(yt,e)),e.options.dragDrop&&(qr(i.scroller,"dragstart",function(t){at(e,t)}),qr(i.scroller,"dragenter",r),qr(i.scroller,"dragover",r),qr(i.scroller,"drop",G(e,ot))),qr(i.scroller,"paste",function(){Q(e),X(e)}),qr(i.input,"paste",function(){i.pasteIncoming=!0,X(e)}),qr(i.input,"cut",n),qr(i.input,"copy",n),Rn&&qr(i.sizer,"mouseup",function(){document.activeElement==i.input&&i.input.blur(),Q(e)})}function rt(e,t){for(var r=Kr(t);r!=e.wrapper;r=r.parentNode)if(/\bCodeMirror-(?:line)?widget\b/.test(r.className)||r.parentNode==e.sizer&&r!=e.mover)return!0}function nt(e,t,r){var n=e.display;if(!r){var i=Kr(t);if(i==n.scrollbarH||i==n.scrollbarH.firstChild||i==n.scrollbarV||i==n.scrollbarV.firstChild||i==n.scrollbarFiller)return null}var o,l,a=n.lineSpace.getBoundingClientRect();try{o=t.clientX,l=t.clientY}catch(t){return null}return B(e,o-a.left,l-a.top)}function it(e){function t(e){if("single"==d)return Wt(i,Nt(s,u),e),void 0;if(v=Nt(s,v),g=Nt(s,g),"double"==d){var t=jt(Ar(s,e.line).text,e);St(e,v)?Wt(i,t.from,g):Wt(i,v,t.to)}else"triple"==d&&(St(e,v)?Wt(i,g,Nt(s,{line:e.line,ch:0})):Wt(i,v,Nt(s,{line:e.line+1,ch:0})))}function r(e){var n=++b,a=nt(i,e,!0);if(a)if(Mt(a,p)){var u=e.clientY<y.top?-20:e.clientY>y.bottom?20:0;u&&setTimeout(G(i,function(){b==n&&(o.scroller.scrollTop+=u,r(e))}),50)}else{l.focused||gt(i),p=a,t(a);var c=h(o,s);(a.line>=c.to||a.line<c.from)&&setTimeout(G(i,function(){b==n&&r(e)}),150)}}function n(e){b=1/0;var r=nt(i,e);r&&t(r),Vr(e),Q(i),Gr(document,"mousemove",w),Gr(document,"mouseup",x)}var i=this,o=i.display,l=i.view,a=l.sel,s=l.doc;if(a.shift=_r(e,"shiftKey"),rt(o,e))return Dn||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)),void 0;if(!lt(i,e)){var u=nt(i,e);switch(Ur(e)){case 3:return An&&bt.call(i,i,e),void 0;case 2:return u&&Wt(i,u),setTimeout(on(Q,i),20),Vr(e),void 0}if(!u)return Kr(e)==o.scroller&&Vr(e),void 0;l.focused||gt(i);var c=+new Date,d="single";if(Mn&&Mn.time>c-400&&Mt(Mn.pos,u))d="triple",Vr(e),setTimeout(on(Q,i),20),Kt(i,u.line);else if(Ln&&Ln.time>c-400&&Mt(Ln.pos,u)){d="double",Mn={time:c,pos:u},Vr(e);var f=jt(Ar(s,u.line).text,u);Wt(i,f.from,f.to)}else Ln={time:c,pos:u};var p=u;if(i.options.dragDrop&&mi&&!et(i)&&!Mt(a.from,a.to)&&!St(u,a.from)&&!St(a.to,u)&&"single"==d){var m=G(i,function(t){Dn&&(o.scroller.draggable=!1),l.draggingText=!1,Gr(document,"mouseup",m),Gr(o.scroller,"drop",m),10>Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)&&(Vr(t),Wt(i,u),Q(i))});return Dn&&(o.scroller.draggable=!0),l.draggingText=m,o.scroller.dragDrop&&o.scroller.dragDrop(),qr(document,"mouseup",m),qr(o.scroller,"drop",m),void 0}Vr(e),"single"==d&&Wt(i,Nt(s,u));var v=a.from,g=a.to,y=o.wrapper.getBoundingClientRect(),b=0,w=G(i,function(e){Wn||Ur(e)?r(e):n(e)}),x=G(i,n);qr(document,"mousemove",w),qr(document,"mouseup",x)}}function ot(e){var t=this;if(!t.options.onDragEvent||!t.options.onDragEvent(t,Rr(e))){Vr(e);var r=nt(t,e,!0),n=e.dataTransfer.files;if(r&&!et(t))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,a=function(e,n){var a=new FileReader;a.onload=function(){o[n]=a.result,++l==i&&(r=Nt(t.view.doc,r),G(t,function(){var e=Lt(t,o.join(""),r,r,"paste");Ot(t,r,e)})())},a.readAsText(e)},s=0;i>s;++s)a(n[s],s);else{if(t.view.draggingText&&!St(r,t.view.sel.from)&&!St(t.view.sel.to,r))return t.view.draggingText(e),Wn&&setTimeout(on(Q,t),50),void 0;try{var o=e.dataTransfer.getData("Text");if(o){var u=t.view.sel.from,c=t.view.sel.to;Ot(t,r,r),t.view.draggingText&&Lt(t,"",u,c,"paste"),t.replaceSelection(o,null,"paste"),Q(t),gt(t)}}catch(e){}}}}function lt(e,t){var r=e.display;try{var n=t.clientX,i=t.clientY}catch(t){return!1}if(n>=Math.floor(r.gutters.getBoundingClientRect().right))return!1;if(Vr(t),!Xr(e,"gutterClick"))return!0;var o=r.lineDiv.getBoundingClientRect();if(i>o.bottom)return!0;i-=o.top-r.viewOffset;for(var l=0;e.options.gutters.length>l;++l){var a=r.gutters.childNodes[l];if(a&&a.getBoundingClientRect().right>=n){var s=Er(e.view.doc,i),u=e.options.gutters[l];Yr(e,e,"gutterClick",e,s,u,t);break}}return!0}function at(e,t){var r=e.getSelection();t.dataTransfer.setData("Text",r),t.dataTransfer.setDragImage&&!Pn&&t.dataTransfer.setDragImage(sn("img"),0,0)}function st(e,t){2>Math.abs(e.view.scrollTop-t)||(e.view.scrollTop=t,An||y(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),An&&y(e,[]))}function ut(e,t,r){(r?t==e.view.scrollLeft:2>Math.abs(e.view.scrollLeft-t))||(e.view.scrollLeft=t,p(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function ct(e,t){var r=t.wheelDeltaX,n=t.wheelDeltaY;if(null==r&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(r=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),n&&_n&&Dn)for(var i=t.target;i!=o;i=i.parentNode)if(i.lineObj){e.display.currentWheelTarget=i;break}var o=e.display.scroller;if(r&&!An&&!Fn&&null!=Yn)return n&&st(e,Math.max(0,Math.min(o.scrollTop+n*Yn,o.scrollHeight-o.clientHeight))),ut(e,Math.max(0,Math.min(o.scrollLeft+r*Yn,o.scrollWidth-o.clientWidth))),Vr(t),zn=null,void 0;if(n&&null!=Yn){var l=n*Yn,a=e.view.scrollTop,s=a+e.display.wrapper.clientHeight;0>l?a=Math.max(0,a+l-50):s=Math.min(e.view.doc.height,s+l+50),y(e,[],{top:a,bottom:s})}20>$n&&(null==zn?(zn=o.scrollLeft,Nn=o.scrollTop,Sn=r,Tn=n,setTimeout(function(){if(null!=zn){var e=o.scrollLeft-zn,t=o.scrollTop-Nn,r=t&&Tn&&t/Tn||e&&Sn&&e/Sn;zn=Nn=null,r&&(Yn=(Yn*$n+r)/($n+1),++$n)}},200)):(Sn+=r,Tn+=n))}function dt(e,t,r){if("string"==typeof t&&(t=li[t],!t))return!1;e.display.pollingFast&&Z(e)&&(e.display.pollingFast=!1);var n=e.view,i=n.sel.shift;try{et(e)&&(n.suppressEdits=!0),r&&(n.sel.shift=!1),t(e)}catch(o){if(o!=di)throw o;return!1}finally{n.sel.shift=i,n.suppressEdits=!1}return!0}function ft(e){var t=e.view.keyMaps.slice(0);return t.push(e.options.keyMap),e.options.extraKeys&&t.unshift(e.options.extraKeys),t}function ht(e,t){function r(){s=!0}var n=Gt(e.options.keyMap),i=n.auto;clearTimeout(Xn),i&&!Yt(t)&&(Xn=setTimeout(function(){Gt(e.options.keyMap)==n&&(e.options.keyMap=i.call?i.call(null,e):i)},50));var o=ki[_r(t,"keyCode")],l=!1,a=_n&&(Fn||Hn);if(null==o||t.altGraphKey)return!1;_r(t,"altKey")&&(o="Alt-"+o),_r(t,a?"metaKey":"ctrlKey")&&(o="Ctrl-"+o),_r(t,a?"ctrlKey":"metaKey")&&(o="Cmd-"+o);var s=!1,u=ft(e);return l=_r(t,"shiftKey")?$t("Shift-"+o,u,function(t){return dt(e,t,!0)},r)||$t(o,u,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?dt(e,t):void 0},r):$t(o,u,function(t){return dt(e,t)},r),s&&(l=!1),l&&(Vr(t),T(e),En&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),l}function pt(e,t,r){var n=$t("'"+r+"'",ft(e),function(t){return dt(e,t,!0)});return n&&(Vr(t),T(e)),n}function mt(e){var t=this;if(t.view.focused||gt(t),Wn&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,Rr(e))){var r=_r(e,"keyCode");t.view.sel.shift=16==r||_r(e,"shiftKey");var n=ht(t,e);Fn&&(Jn=n?r:null,n||88!=r||xi||!_r(e,_n?"metaKey":"ctrlKey")||t.replaceSelection(""))}}function vt(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,Rr(e))){var r=_r(e,"keyCode"),n=_r(e,"charCode");if(Fn&&r==Jn)return Jn=null,Vr(e),void 0;if(!(Fn&&(!e.which||10>e.which)||Rn)||!ht(t,e)){var i=String.fromCharCode(null==n?r:n);this.options.electricChars&&this.view.mode.electricChars&&this.options.smartIndent&&!et(this)&&this.view.mode.electricChars.indexOf(i)>-1&&setTimeout(G(t,function(){Rt(t,t.view.sel.to.line,"smart")}),75),pt(t,e,i)||X(t)}}}function gt(e){"nocursor"!=e.options.readOnly&&(e.view.focused||($r(e,"focus",e),e.view.focused=!0,-1==e.display.scroller.className.search(/\bCodeMirror-focused\b/)&&(e.display.scroller.className+=" CodeMirror-focused"),J(e,!0)),Y(e),T(e))}function yt(e){e.view.focused&&($r(e,"blur",e),e.view.focused=!1,e.display.scroller.className=e.display.scroller.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.view.focused||(e.view.sel.shift=!1)},150)}function bt(e,t){function r(){if(n.inputDiv.style.position="relative",n.input.style.cssText=a,En&&(n.scrollbarV.scrollTop=n.scroller.scrollTop=l),Y(e),null!=n.input.selectionStart){clearTimeout(Zn);
var t=n.input.value=" "+(Mt(i.from,i.to)?"":n.input.value),r=0;n.prevInput=" ",n.input.selectionStart=1,n.input.selectionEnd=t.length,Zn=setTimeout(function o(){" "==n.prevInput&&0==n.input.selectionStart?G(e,li.selectAll)(e):10>r++?Zn=setTimeout(o,500):J(e)},200)}}var n=e.display,i=e.view.sel,o=nt(e,t),l=n.scroller.scrollTop;if(o&&!Fn){(Mt(i.from,i.to)||St(o,i.from)||!St(o,i.to))&&G(e,Ot)(e,o,o);var a=n.input.style.cssText;n.inputDiv.style.position="absolute",n.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Q(e),J(e,!0),Mt(i.from,i.to)&&(n.input.value=n.prevInput=" "),An?(jr(t),qr(window,"mouseup",function s(){Gr(window,"mouseup",s),setTimeout(r,20)})):setTimeout(r,50)}}function wt(e,t,r,n,i,o){var l=qn&&or(e.view.doc,t,r);if(!l)return xt(e,t,r,n,i,o);for(var a=l.length-1;a>=1;--a)xt(e,l[a].from,l[a].to,[""],o);return l.length?xt(e,l[0].from,l[0].to,n,i,o):void 0}function xt(e,t,r,n,i,o){if(!e.view.suppressEdits){var l=e.view,a=l.doc,s=[];a.iter(t.line,r.line+1,function(e){s.push(pr(e.text,e.markedSpans))});var u=l.sel.from,c=l.sel.to,d=ir(hr(s[0]),hr(en(s)),t.ch,r.ch,n),f=Ct(e,t,r,d,i,o);return l.history&&Fr(e,t.line,n.length,s,o,u,c,l.sel.from,l.sel.to),f}}function kt(e,t){var r=e.view.doc,n=e.view.history,i=("undo"==t?n.done:n.undone).pop();if(i){for(var o={events:[],fromBefore:i.fromAfter,toBefore:i.toAfter,fromAfter:i.fromBefore,toAfter:i.toBefore},l=i.events.length-1;l>=0;l-=1){n.dirtyCounter+="undo"==t?-1:1;var a=i.events[l],s=[],u=a.start+a.added;r.iter(a.start,u,function(e){s.push(pr(e.text,e.markedSpans))}),o.events.push({start:a.start,added:a.old.length,old:s});var c=l?null:{from:i.fromBefore,to:i.toBefore};Ct(e,{line:a.start,ch:0},{line:u-1,ch:Ar(r,u-1).text.length},a.old,c,t)}("undo"==t?n.undone:n.done).push(o)}}function Ct(e,t,r,n,i,o){var l=e.view,a=l.doc,s=e.display;if(!l.suppressEdits){var c=r.line-t.line,d=Ar(a,t.line),f=Ar(a,r.line),h=!1,p=t.line;e.options.lineWrapping||(p=Or(ur(a,d)),a.iter(p,r.line+1,function(e){return u(a,e)==l.maxLineLength?(h=!0,!0):void 0}));var m=en(n),v=K(s);if(0==t.ch&&0==r.ch&&""==fr(m)){for(var g=[],y=0,b=n.length-1;b>y;++y)g.push(gr(fr(n[y]),hr(n[y]),v));yr(e,f,f.text,hr(m)),c&&a.remove(t.line,c,e),g.length&&a.insert(t.line,g)}else if(d==f)if(1==n.length)yr(e,d,d.text.slice(0,t.ch)+fr(n[0])+d.text.slice(r.ch),hr(n[0]));else{for(var g=[],y=1,b=n.length-1;b>y;++y)g.push(gr(fr(n[y]),hr(n[y]),v));g.push(gr(fr(m)+d.text.slice(r.ch),hr(m),v)),yr(e,d,d.text.slice(0,t.ch)+fr(n[0]),hr(n[0])),a.insert(t.line+1,g)}else if(1==n.length)yr(e,d,d.text.slice(0,t.ch)+fr(n[0])+f.text.slice(r.ch),hr(n[0])),a.remove(t.line+1,c,e);else{var g=[];yr(e,d,d.text.slice(0,t.ch)+fr(n[0]),hr(n[0])),yr(e,f,fr(m)+f.text.slice(r.ch),hr(m));for(var y=1,b=n.length-1;b>y;++y)g.push(gr(fr(n[y]),hr(n[y]),v));c>1&&a.remove(t.line+1,c-1,e),a.insert(t.line+1,g)}if(e.options.lineWrapping){var w=Math.max(5,s.scroller.clientWidth/U(s)-3);a.iter(t.line,t.line+n.length,function(e){if(0!=e.height){var t=(Math.ceil(e.text.length/w)||1)*v;t!=e.height&&Wr(e,t)}})}else a.iter(p,t.line+n.length,function(e){var t=u(a,e);t>l.maxLineLength&&(l.maxLine=e,l.maxLineLength=t,l.maxLineChanged=!0,h=!1)}),h&&(e.curOp.updateMaxLine=!0);l.frontier=Math.min(l.frontier,t.line),z(e,400);var x=n.length-c-1;if($(e,t.line,r.line+1,x),Xr(e,"change")){for(var y=0;n.length>y;++y)"string"!=typeof n[y]&&(n[y]=n[y].text);var k={from:t,to:r,text:n,origin:o};if(e.curOp.textChanged){for(var C=e.curOp.textChanged;C.next;C=C.next);C.next=k}else e.curOp.textChanged=k}var L,M,S={line:t.line+n.length-1,ch:fr(m).length+(1==n.length?t.ch:0)};if(i&&"string"!=typeof i)i.from?(L=i.from,M=i.to):L=M=i;else if("end"==i)L=M=S;else if("start"==i)L=M=t;else if("around"==i)L=t,M=S;else{var T=function(e){if(St(e,t))return e;if(!St(r,e))return S;var n=e.line+x,i=e.ch;return e.line==r.line&&(i+=fr(m).length-(r.ch-(r.line==t.line?t.ch:0))),{line:n,ch:i}};L=T(l.sel.from),M=T(l.sel.to)}return Ot(e,L,M,null,!0),S}}function Lt(e,t,r,n,i){if(n||(n=r),St(n,r)){var o=n;n=r,r=o}return wt(e,r,n,bi(t),null,i)}function Mt(e,t){return e.line==t.line&&e.ch==t.ch}function St(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Tt(e){return{line:e.line,ch:e.ch}}function zt(e,t){return Math.max(0,Math.min(t,e.size-1))}function Nt(e,t){if(0>t.line)return{line:0,ch:0};if(t.line>=e.size)return{line:e.size-1,ch:Ar(e,e.size-1).text.length};var r=t.ch,n=Ar(e,t.line).text.length;return null==r||r>n?{line:t.line,ch:n}:0>r?{line:t.line,ch:0}:t}function At(e,t){return t>=0&&e.size>t}function Wt(e,t,r,n){var i=e.view.sel;if(i.shift||i.extend){var o=i.anchor;if(r){var l=St(t,o);l!=St(r,o)?(o=t,t=r):l!=St(t,r)&&(t=r)}Ot(e,o,t,n)}else Ot(e,t,r||t,n);e.curOp.userSelChange=!0}function Ot(e,t,r,n,i){e.view.goalColumn=null;var o=e.view.sel;if((i||!Mt(t,o.anchor))&&(t=Dt(e,t,n,"push"!=i)),(i||!Mt(r,o.head))&&(r=Dt(e,r,n,"push"!=i)),!Mt(o.anchor,t)||!Mt(o.head,r)){o.anchor=t,o.head=r;var l=St(r,t);o.from=l?r:t,o.to=l?t:r,e.curOp.updateInput=!0,e.curOp.selectionChanged=!0}}function Et(e){Ot(e,e.view.sel.from,e.view.sel.to,null,"push")}function Dt(e,t,r,n){var i=e.view.doc,o=!1,l=t,a=r||1;e.view.cantEdit=!1;e:for(;;){var s,u=Ar(i,l.line);if(u.markedSpans){for(var c=0;u.markedSpans.length>c;++c){var d=u.markedSpans[c],f=d.marker;if((null==d.from||(f.inclusiveLeft?d.from<=l.ch:d.from<l.ch))&&(null==d.to||(f.inclusiveRight?d.to>=l.ch:d.to>l.ch))){if(n&&f.clearOnEnter){(s||(s=[])).push(f);continue}if(!f.atomic)continue;var h=f.find()[0>a?"from":"to"];if(Mt(h,l)&&(h.ch+=a,0>h.ch?h=h.line?Nt(i,{line:h.line-1}):null:h.ch>u.text.length&&(h=h.line<i.size-1?{line:h.line+1,ch:0}:null),!h)){if(o)return n?(e.view.cantEdit=!0,{line:0,ch:0}):Dt(e,t,r,!0);o=!0,h=t,a=-a}l=h;continue e}}if(s)for(var c=0;s.length>c;++c)s[c].clear()}return l}}function Ht(e){var t=e.view,r=It(e,t.sel.head);if(t.focused){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(0>r.top+i.top?o=!0:r.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!jn){var l="none"==n.cursor.style.display;l&&(n.cursor.style.display="",n.cursor.style.left=r.left+"px",n.cursor.style.top=r.top-n.viewOffset+"px"),n.cursor.scrollIntoView(o),l&&(n.cursor.style.display="none")}}}function It(e,t){for(;;){var r=!1,n=V(e,t),i=Pt(e,n.left,n.top,n.left,n.bottom),o=e.view.scrollTop,l=e.view.scrollLeft;if(null!=i.scrollTop&&(st(e,i.scrollTop),Math.abs(e.view.scrollTop-o)>1&&(r=!0)),null!=i.scrollLeft&&(ut(e,i.scrollLeft),Math.abs(e.view.scrollLeft-l)>1&&(r=!0)),!r)return n}}function Ft(e,t,r,n,i){var o=Pt(e,t,r,n,i);null!=o.scrollTop&&st(e,o.scrollTop),null!=o.scrollLeft&&ut(e,o.scrollLeft)}function Pt(e,t,r,n,i){var o=e.display,l=O(o);r+=l,i+=l;var a=o.scroller.clientHeight-ci,s=o.scroller.scrollTop,u={},c=e.view.doc.height+2*l,d=l+10>r,f=i+l>c-10;s>r?u.scrollTop=d?0:Math.max(0,r):i>s+a&&(u.scrollTop=(f?c:i)-a);var h=o.scroller.clientWidth-ci,p=o.scroller.scrollLeft;t+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var m=o.gutters.offsetWidth,v=m+10>t;return p+m>t||v?(v&&(t=0),u.scrollLeft=Math.max(0,t-10-m)):n>h+p-3&&(u.scrollLeft=n+10-h),u}function Rt(e,t,r,n){var i=e.view.doc;if(r||(r="add"),"smart"==r)if(e.view.mode.indent)var o=W(e,t);else r="prev";var l,a=e.options.tabSize,s=Ar(i,t),u=Jr(s.text,null,a),c=s.text.match(/^\s*/)[0];if("smart"==r&&(l=e.view.mode.indent(o,s.text.slice(c.length),s.text),l==di)){if(!n)return;r="prev"}"prev"==r?l=t?Jr(Ar(i,t-1).text,null,a):0:"add"==r?l=u+e.options.indentUnit:"subtract"==r&&(l=u-e.options.indentUnit),l=Math.max(0,l);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(l/a);h;--h)f+=a,d+="	";l>f&&(d+=Qr(l-f)),d!=c&&Lt(e,d,{line:t,ch:0},{line:t,ch:c.length},"input"),s.stateAfter=null}function Vt(e,t,r){var n=t,i=t,o=e.view.doc;return"number"==typeof t?i=Ar(o,zt(o,t)):n=Or(t),null==n?null:r(i,n)?($(e,n,n+1),i):null}function Bt(e,t,r,n){function i(){var e=s+t;return 0>e||e==l.size?!1:(s=e,c=Ar(l,e))}function o(e){var r=(n?xn:kn)(c,u,t,!0);if(null==r){if(e||!i())return!1;u=n?(0>t?yn:gn)(c):0>t?c.text.length:0}else u=r;return!0}var l=e.view.doc,a=e.view.sel.head,s=a.line,u=a.ch,c=Ar(l,s);if("char"==r)o();else if("column"==r)o(!0);else if("word"==r)for(var d=!1;!(0>t)||o();){if(ln(c.text.charAt(u)))d=!0;else if(d){0>t&&(t=1,o());break}if(t>0&&!o())break}return Dt(e,{line:s,ch:u},t,!0)}function jt(e,t){var r=t.ch,n=t.ch;if(e){t.after===!1||n==e.length?--r:++n;for(var i=e.charAt(r),o=ln(i)?ln:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ln(e)};r>0&&o(e.charAt(r-1));)--r;for(;e.length>n&&o(e.charAt(n));)++n}return{from:{line:t.line,ch:r},to:{line:t.line,ch:n}}}function Kt(e,t){Wt(e,{line:t,ch:0},Nt(e.view.doc,{line:t+1,ch:0}))}function Ut(t,r,n,i){e.defaults[t]=r,n&&(Qn[t]=i?function(e,t,r){r!=ti&&n(e,t,r)}:n)}function _t(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function qt(e,t,r){return e.startState?e.startState(t,r):!0}function Gt(e){return"string"==typeof e?ai[e]:e}function $t(e,t,r,n){function i(t){t=Gt(t);var o=t[e];if(o===!1)return n&&n(),!0;if(null!=o&&r(o))return!0;if(t.nofallthrough)return n&&n(),!0;var l=t.fallthrough;if(null==l)return!1;if("[object Array]"!=Object.prototype.toString.call(l))return i(l);for(var a=0,s=l.length;s>a;++a)if(i(l[a]))return!0;return!1}for(var o=0;t.length>o;++o)if(i(t[o]))return!0}function Yt(e){var t=ki[_r(e,"keyCode")];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Xt(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function Zt(e,t){this.lines=[],this.type=t,this.cm=e}function Jt(e,t,r,n,i){var o=e.view.doc,l=new Zt(e,i);if("range"==i&&!St(t,r))return l;if(n)for(var a in n)n.hasOwnProperty(a)&&(l[a]=n[a]);l.replacedWith&&(l.collapsed=!0,l.replacedWith=sn("span",[l.replacedWith],"CodeMirror-widget")),l.collapsed&&(Gn=!0);var s,u,c=t.line,d=0;if(o.iter(c,r.line+1,function(e){var n={from:null,to:null,marker:l};d+=e.text.length,c==t.line&&(n.from=t.ch,d-=t.ch),c==r.line&&(n.to=r.ch,d-=e.text.length-r.ch),l.collapsed&&(c==r.line&&(u=lr(e,r.ch)),c==t.line?s=lr(e,t.ch):Wr(e,0)),tr(e,n),l.collapsed&&c==t.line&&cr(e)&&Wr(e,0),++c}),l.readOnly&&(qn=!0,(e.view.history.done.length||e.view.history.undone.length)&&e.clearHistory()),l.collapsed){if(s!=u)throw Error("Inserting collapsed marker overlapping an existing one");l.size=d,l.atomic=!0}return(l.className||l.startStyle||l.endStyle||l.collapsed)&&$(e,t.line,r.line+1),l.atomic&&Et(e),l}function Qt(e,t){if(e)for(var r=0;e.length>r;++r){var n=e[r];if(n.marker==t)return n}}function er(e,t){for(var r,n=0;e.length>n;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function tr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.lines.push(e)}function rr(e,t){if(e)for(var r,n=0;e.length>n;++n){var i=e[n],o=i.marker,l=null==i.from||(o.inclusiveLeft?t>=i.from:t>i.from);if(l||"bookmark"==o.type&&i.from==t){var a=null==i.to||(o.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push({from:i.from,to:a?null:i.to,marker:o})}}return r}function nr(e,t,r){if(e)for(var n,i=0;e.length>i;++i){var o=e[i],l=o.marker,a=null==o.to||(l.inclusiveRight?o.to>=r:o.to>r);if(a||"bookmark"==l.type&&o.from==r&&o.from!=t){var s=null==o.from||(l.inclusiveLeft?r>=o.from:r>o.from);(n||(n=[])).push({from:s?null:o.from-r,to:null==o.to?null:o.to-r,marker:l})}}return n}function ir(e,t,r,n,i){if(!e&&!t)return i;var o=rr(e,r),l=nr(t,r,n),a=1==i.length,s=en(i).length+(a?r:0);if(o)for(var u=0;o.length>u;++u){var c=o[u];if(null==c.to){var d=Qt(l,c.marker);d?a&&(c.to=null==d.to?null:d.to+s):c.to=r}}if(l)for(var u=0;l.length>u;++u){var c=l[u];if(null!=c.to&&(c.to+=s),null==c.from){var d=Qt(o,c.marker);d||(c.from=s,a&&(o||(o=[])).push(c))}else c.from+=s,a&&(o||(o=[])).push(c)}var f=[pr(i[0],o)];if(!a){var h,p=i.length-2;if(p>0&&o)for(var u=0;o.length>u;++u)null==o[u].to&&(h||(h=[])).push({from:null,to:null,marker:o[u].marker});for(var u=0;p>u;++u)f.push(pr(i[u+1],h));f.push(pr(en(i),l))}return f}function or(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;e.markedSpans.length>t;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=rn(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;n.length>o;++o)for(var l=n[o].find(),a=0;i.length>a;++a){var s=i[a];if(St(l.from,s.to)&&!St(l.to,s.from)){var u=[a,1];St(s.from,l.from)&&u.push({from:s.from,to:l.from}),St(l.to,s.to)&&u.push({from:l.to,to:s.to}),i.splice.apply(i,u),a+=u.length-1}}return i}function lr(e,t){var r,n=Gn&&e.markedSpans;if(n)for(var i,o=0;n.length>o;++o)i=n[o],i.marker.collapsed&&(null==i.from||t>i.from)&&(null==i.to||i.to>t)&&(!r||r.width<i.marker.width)&&(r=i.marker);return r}function ar(e){return lr(e,-1)}function sr(e){return lr(e,e.text.length+1)}function ur(e,t){for(var r;r=ar(t);)t=Ar(e,r.find().from.line);return t}function cr(e){var t=Gn&&e.markedSpans;if(t)for(var r,n=0;t.length>n;++n)if(r=t[n],r.marker.collapsed){if(null==r.from)return!0;if(0==r.from&&r.marker.inclusiveLeft&&dr(e,r))return!0}}function dr(e,t){if(null==t.to||t.marker.inclusiveRight&&t.to==e.text.length)return!0;for(var r,n=0;e.markedSpans.length>n;++n)if(r=e.markedSpans[n],r.marker.collapsed&&r.from==t.to&&(r.marker.inclusiveLeft||t.marker.inclusiveRight)&&dr(e,r))return!0}function fr(e){return"string"==typeof e?e:e.text}function hr(e){if("string"==typeof e)return null;for(var t=e.markedSpans,r=null,n=0;t.length>n;++n)t[n].marker.explicitlyCleared?r||(r=t.slice(0,n)):r&&r.push(t[n]);return r?r.length?r:null:t}function pr(e,t){return t?{text:e,markedSpans:t}:e}function mr(e){var t=e.markedSpans;if(t){for(var r=0;t.length>r;++r){var n=t[r].marker.lines,i=rn(n,e);n.splice(i,1)}e.markedSpans=null}}function vr(e,t){if(t){for(var r=0;t.length>r;++r)t[r].marker.lines.push(e);e.markedSpans=t}}function gr(e,t,r){var n={text:e,height:r};return vr(n,t),cr(n)&&(n.height=0),n}function yr(e,t,r,n){t.text=r,t.stateAfter=t.styles=null,null!=t.order&&(t.order=null),mr(t),vr(t,n),cr(t)?t.height=0:t.height||(t.height=K(e.display)),Yr(e,t,"change")}function br(e){e.parent=null,mr(e)}function wr(e,t,r){var n=e.view.mode,i=e.options.flattenSpans,o=!t.styles,l=0,a="",s=null,u=new Xt(t.text,e.options.tabSize),c=t.styles||(t.styles=[]);for(""==t.text&&n.blankLine&&n.blankLine(r);!u.eol();){var d=n.token(u,r),f=u.current();if(u.start=u.pos,i&&s==d?a+=f:(a&&(o=o||l>=c.length||a!=c[l]||s!=c[l+1],c[l++]=a,c[l++]=s),a=f,s=d),u.pos>5e3)break}return a&&(o=o||l>=c.length||a!=c[l]||s!=c[l+1],c[l++]=a,c[l++]=s),u.pos>5e3&&(c[l++]=t.text.slice(u.pos),c[l++]=null),l!=c.length&&(c.length=l,o=!0),o}function xr(e,t,r){var n=e.view.mode,i=new Xt(t.text,e.options.tabSize);for(""==t.text&&n.blankLine&&n.blankLine(r);!i.eol()&&5e3>=i.pos;)n.token(i,r),i.start=i.pos}function kr(e){return e?si[e]||(si[e]="cm-"+e.replace(/ +/g," cm-")):null}function Cr(e,t,r){for(var n,i,o,l=t,a=!0;n=ar(l);)a=!1,l=Ar(e.view.doc,n.find().from.line),i||(i=l);var s={pre:sn("pre"),col:0,pos:0,display:!r,measure:null,addedOne:!1,cm:e};l.textClass&&(s.pre.className=l.textClass);do{l.styles||wr(e,l,l.stateAfter=W(e,Or(l))),s.measure=l==t&&r,s.pos=0,s.addToken=s.measure?Mr:Lr,r&&o&&l!=t&&!s.addedOne&&(r[0]=s.pre.appendChild(hn(e.display.measure)),s.addedOne=!0);var u=Tr(l,s);o=l==i,u&&(l=Ar(e.view.doc,u.to.line),a=!1)}while(u);return r&&!s.addedOne&&(r[0]=s.pre.appendChild(a?sn("span"," "):hn(e.display.measure))),s.pre.firstChild||cr(t)||s.pre.appendChild(document.createTextNode(" ")),s.pre}function Lr(e,t,r,n,i){if(t){if(ui.test(t))for(var o=document.createDocumentFragment(),l=0;;){ui.lastIndex=l;var a=ui.exec(t),s=a?a.index-l:t.length-l;if(s&&(o.appendChild(document.createTextNode(t.slice(l,l+s))),e.col+=s),!a)break;if(l+=s+1,"	"==a[0]){var u=e.cm.options.tabSize,c=u-e.col%u;o.appendChild(sn("span",Qr(c),"cm-tab")),e.col+=c}else{var d=sn("span","•","cm-invalidchar");d.title="\\u"+a[0].charCodeAt(0).toString(16),o.appendChild(d),e.col+=1}}else{e.col+=t.length;var o=document.createTextNode(t)}if(r||n||i||e.measure){var f=r||"";return n&&(f+=n),i&&(f+=i),e.pre.appendChild(sn("span",[o],f))}e.pre.appendChild(o)}}function Mr(e,t,r,n,i){for(var o=0;t.length>o;++o)o&&t.length-1>o&&e.cm.options.lineWrapping&&vi.test(t.slice(o-1,o+1))&&e.pre.appendChild(sn("wbr")),e.measure[e.pos++]=Lr(e,t.charAt(o),r,0==o&&n,o==t.length-1&&i);t.length&&(e.addedOne=!0)}function Sr(e,t,r){r&&(e.display||(r=r.cloneNode(!0)),e.pre.appendChild(r),e.measure&&t&&(e.measure[e.pos]=r,e.addedOne=!0)),e.pos+=t}function Tr(e,t){var r=e.styles,n=e.markedSpans;if(n)for(var i,o,l,a,s,u=e.text,c=u.length,d=0,f=0,h="",p=0;;){if(p==d){o=l=a="",s=null,p=1/0;for(var m=null,v=0;n.length>v;++v){var g=n[v],y=g.marker;d>=g.from&&(null==g.to||g.to>d)?(null!=g.to&&p>g.to&&(p=g.to,l=""),y.className&&(o+=" "+y.className),y.startStyle&&g.from==d&&(a+=" "+y.startStyle),y.endStyle&&g.to==p&&(l+=" "+y.endStyle),y.collapsed&&(!s||s.marker.width<y.width)&&(s=g)):g.from>d&&p>g.from&&(p=g.from),"bookmark"==y.type&&g.from==d&&y.replacedWith&&(m=y.replacedWith)}if(s&&(s.from||0)==d&&(Sr(t,(null==s.to?c:s.to)-d,null!=s.from&&s.marker.replacedWith),null==s.to))return s.marker.find();m&&!s&&Sr(t,0,m)}if(d>=c)break;for(var b=Math.min(c,p);;){if(h){var w=d+h.length;if(!s){var x=w>b?h.slice(0,b-d):h;t.addToken(t,x,i+o,a,d+x.length==p?l:"")}if(w>=b){h=h.slice(b-d),d=b;break}d=w,a=""}h=r[f++],i=kr(r[f++])}}else for(var f=0;r.length>f;f+=2)t.addToken(t,r[f],kr(r[f+1]))}function zr(e){this.lines=e,this.parent=null;for(var t=0,r=e.length,n=0;r>t;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Nr(e){this.children=e;for(var t=0,r=0,n=0,i=e.length;i>n;++n){var o=e[n];t+=o.chunkSize(),r+=o.height,o.parent=this}this.size=t,this.height=r,this.parent=null}function Ar(e,t){for(;!e.lines;)for(var r=0;;++r){var n=e.children[r],i=n.chunkSize();if(i>t){e=n;break}t-=i}return e.lines[t]}function Wr(e,t){for(var r=t-e.height,n=e;n;n=n.parent)n.height+=r}function Or(e){if(null==e.parent)return null;for(var t=e.parent,r=rn(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r}function Er(e,t){var r=0;e:do{for(var n=0,i=e.children.length;i>n;++n){var o=e.children[n],l=o.height;if(l>t){e=o;continue e}t-=l,r+=o.chunkSize()}return r}while(!e.lines);for(var n=0,i=e.lines.length;i>n;++n){var a=e.lines[n],s=a.height;if(s>t)break;t-=s}return r+n}function Dr(e,t){t=ur(e.view.doc,t);for(var r=0,n=t.parent,i=0;n.lines.length>i;++i){var o=n.lines[i];if(o==t)break;r+=o.height}for(var l=n.parent;l;n=l,l=n.parent)for(var i=0;l.children.length>i;++i){var a=l.children[i];if(a==n)break;r+=a.height}return r}function Hr(e){var t=e.order;return null==t&&(t=e.order=Ci(e.text)),t}function Ir(){return{done:[],undone:[],lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function Fr(e,t,r,n,i,o,l,a,s){var u=e.view.history;u.undone.length=0;var c=+new Date,d=en(u.done);if(d&&(u.lastOp==e.curOp.id||u.lastOrigin==i&&("input"==i||"delete"==i)&&u.lastTime>c-600)){var f=en(d.events);if(f.start>t+n.length||t>f.start+f.added)d.events.push({start:t,added:r,old:n});else{for(var h=Math.max(0,f.start-t),p=Math.max(0,t+n.length-(f.start+f.added)),m=h;m>0;--m)f.old.unshift(n[m-1]);for(var m=p;m>0;--m)f.old.push(n[n.length-m]);h&&(f.start=t),f.added+=r-(n.length-h-p)}d.fromAfter=a,d.toAfter=s}else{for(d={events:[{start:t,added:r,old:n}],fromBefore:o,toBefore:l,fromAfter:a,toAfter:s},u.done.push(d);u.done.length>e.options.undoDepth;)u.done.shift();0>u.dirtyCounter?u.dirtyCounter=0/0:u.dirtyCounter++}u.lastTime=c,u.lastOp=e.curOp.id,u.lastOrigin=i}function Pr(){jr(this)}function Rr(e){return e.stop||(e.stop=Pr),e}function Vr(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Br(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function jr(e){Vr(e),Br(e)}function Kr(e){return e.target||e.srcElement}function Ur(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_n&&e.ctrlKey&&1==t&&(t=3),t}function _r(e,t){var r=e.override&&e.override.hasOwnProperty(t);return r?e.override[t]:e[t]}function qr(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}}function Gr(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var i=0;n.length>i;++i)if(n[i]==r){n.splice(i,1);break}}}function $r(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;r.length>i;++i)r[i].apply(null,n)}function Yr(e,t,r){function n(e){return function(){e.apply(null,o)}}var i=t._handlers&&t._handlers[r];if(i)for(var o=Array.prototype.slice.call(arguments,3),l=e.curOp&&e.curOp.delayedCallbacks,a=0;i.length>a;++a)l?l.push(n(i[a])):i[a].apply(null,o)}function Xr(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function Zr(){this.id=null}function Jr(e,t,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var n=0,i=0;t>n;++n)"	"==e.charAt(n)?i+=r-i%r:++i;return i}function Qr(e){for(;e>=fi.length;)fi.push(en(fi)+" ");return fi[e]}function en(e){return e[e.length-1]}function tn(e){Kn?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function rn(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;n>r;++r)if(e[r]==t)return r;return-1}function nn(e){for(var t=[],r=0;e>r;++r)t.push(void 0);return t}function on(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ln(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||hi.test(e))}function an(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&e[r]&&++t;return!t}function sn(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)dn(i,t);else if(t)for(var o=0;t.length>o;++o)i.appendChild(t[o]);return i}function un(e){return e.innerHTML="",e}function cn(e,t){return un(e).appendChild(t)}function dn(e,t){En?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function fn(e){if(null!=gi)return gi;var t=sn("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return cn(e,t),t.offsetWidth&&(gi=t.offsetHeight-t.clientHeight),gi||0}function hn(e){if(null==yi){var t=sn("span","​");cn(e,sn("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(yi=1>=t.offsetWidth&&t.offsetHeight>2&&!On)}return yi?sn("span","​"):sn("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function pn(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=0;e.length>i;++i){var o=e[i];r>o.from&&o.to>t&&n(Math.max(o.from,t),Math.min(o.to,r),1==o.level?"rtl":"ltr")}}function mn(e){return e.level%2?e.to:e.from}function vn(e){return e.level%2?e.from:e.to}function gn(e){var t=Hr(e);return t?mn(t[0]):0}function yn(e){var t=Hr(e);return t?vn(en(t)):e.text.length}function bn(e,t){var r=Ar(e.view.doc,t),n=ur(e.view.doc,r);n!=r&&(t=Or(n));var i=Hr(n),o=i?i[0].level%2?yn(n):gn(n):0;return{line:t,ch:o}}function wn(e,t){for(var r,n;r=sr(n=Ar(e.view.doc,t));)t=r.find().to.line;var i=Hr(n),o=i?i[0].level%2?gn(n):yn(n):n.text.length;return{line:t,ch:o}}function xn(e,t,r,n){var i=Hr(e);if(!i)return kn(e,t,r,n);for(var o=n?function(t,r){do t+=r;while(t>0&&pi.test(e.text.charAt(t)));return t}:function(e,t){return e+t},l=i[0].level,a=0;i.length>a;++a){var s=i[a],u=s.level%2==l;if(t>s.from&&s.to>t||u&&(s.from==t||s.to==t))break}for(var c=o(t,s.level%2?-r:r);null!=c;)if(s.level%2==l){if(!(s.from>c||c>s.to))break;s=i[a+=r],c=s&&(r>0==s.level%2?o(s.to,-1):o(s.from,1))}else if(c==mn(s))s=i[--a],c=s&&vn(s);else{if(c!=vn(s))break;s=i[++a],c=s&&mn(s)}return 0>c||c>e.text.length?null:c}function kn(e,t,r,n){var i=t+r;if(n)for(;i>0&&pi.test(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var Cn,Ln,Mn,Sn,Tn,zn,Nn,An=/gecko\/\d/i.test(navigator.userAgent),Wn=/MSIE \d/.test(navigator.userAgent),On=/MSIE [1-7]\b/.test(navigator.userAgent),En=/MSIE [1-8]\b/.test(navigator.userAgent),Dn=/WebKit\//.test(navigator.userAgent),Hn=Dn&&/Qt\/\d+\.\d+/.test(navigator.userAgent),In=/Chrome\//.test(navigator.userAgent),Fn=/Opera\//.test(navigator.userAgent),Pn=/Apple Computer/.test(navigator.vendor),Rn=/KHTML\//.test(navigator.userAgent),Vn=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Bn=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),jn=/PhantomJS/.test(navigator.userAgent),Kn=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Un=Kn||/Android|webOS|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent),_n=Kn||/Mac/.test(navigator.platform),qn=!1,Gn=!1,$n=0,Yn=null;Wn?Yn=-.53:An?Yn=15:In?Yn=-.7:Pn&&(Yn=-1/3);var Xn,Zn,Jn=null;e.prototype={getValue:function(e){var t=[],r=this.view.doc;return r.iter(0,r.size,function(e){t.push(e.text)}),t.join(e||"\n")},setValue:G(null,function(e){var t=this.view.doc,r={line:0,ch:0},n=Ar(t,t.size-1).text.length;xt(this,r,{line:t.size-1,ch:n},bi(e),r,r,"setValue")}),getSelection:function(e){return this.getRange(this.view.sel.from,this.view.sel.to,e)},replaceSelection:G(null,function(e,t,r){var n=this.view.sel;wt(this,n.from,n.to,bi(e),t||"around",r)}),focus:function(){window.focus(),Q(this),gt(this),X(this)},setOption:function(e,t){var r=this.options,n=r[e];(r[e]!=t||"mode"==e)&&(r[e]=t,Qn.hasOwnProperty(e)&&G(this,Qn[e])(this,t,n))},getOption:function(e){return this.options[e]},getMode:function(){return this.view.mode},addKeyMap:function(e){this.view.keyMaps.push(e)},removeKeyMap:function(e){for(var t=this.view.keyMaps,r=0;t.length>r;++r)if(("string"==typeof e?t[r].name:t[r])==e)return t.splice(r,1),!0},undo:G(null,function(){kt(this,"undo")}),redo:G(null,function(){kt(this,"redo")}),indentLine:G(null,function(e,t,r){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),At(this.view.doc,e)&&Rt(this,e,t,r)}),indentSelection:G(null,function(e){var t=this.view.sel;if(Mt(t.from,t.to))return Rt(this,t.from.line,e);for(var r=t.to.line-(t.to.ch?0:1),n=t.from.line;r>=n;++n)Rt(this,n,e)}),historySize:function(){var e=this.view.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.view.history=Ir()},markClean:function(){this.view.history.dirtyCounter=0,this.view.history.lastOp=this.view.history.lastOrigin=null},isClean:function(){return 0==this.view.history.dirtyCounter},getHistory:function(){function e(e){for(var t,r=0,n=[];e.length>r;++r){var i=e[r];n.push({events:t=[],fromBefore:i.fromBefore,toBefore:i.toBefore,fromAfter:i.fromAfter,toAfter:i.toAfter});for(var o=0,l=i.events;l.length>o;++o){var a=[],s=l[o];t.push({start:s.start,added:s.added,old:a});for(var u=0;s.old.length>u;++u)a.push(fr(s.old[u]))}}return n}var t=this.view.history;return{done:e(t.done),undone:e(t.undone)}},setHistory:function(e){var t=this.view.history=Ir();t.done=e.done,t.undone=e.undone},getTokenAt:function(e){var t=this.view.doc;e=Nt(t,e);for(var r=W(this,e.line),n=this.view.mode,i=Ar(t,e.line),o=new Xt(i.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var l=n.token(o,r)}return{start:o.start,end:o.pos,string:o.current(),className:l||null,type:l||null,state:r}},getStateAfter:function(e){var t=this.view.doc;return e=zt(t,null==e?t.size-1:e),W(this,e+1)},cursorCoords:function(e,t){var r,n=this.view.sel;return r=null==e?n.head:"object"==typeof e?Nt(this.view.doc,e):e?n.from:n.to,V(this,r,t||"page")},charCoords:function(e,t){return R(this,Nt(this.view.doc,e),t||"page")},coordsChar:function(e){var t=this.display.lineSpace.getBoundingClientRect();return B(this,e.left-t.left,e.top-t.top)},defaultTextHeight:function(){return K(this.display)},markText:G(null,function(e,t,r){return Jt(this,Nt(this.view.doc,e),Nt(this.view.doc,t),r,"range")}),setBookmark:G(null,function(e,t){return e=Nt(this.view.doc,e),Jt(this,e,e,t?{replacedWith:t}:{},"bookmark")}),findMarksAt:function(e){var t=this.view.doc;e=Nt(t,e);var r=[],n=Ar(t,e.line).markedSpans;if(n)for(var i=0;n.length>i;++i){var o=n[i];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&r.push(o.marker)}return r},setGutterMarker:G(null,function(e,t,r){return Vt(this,e,function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&an(n)&&(e.gutterMarkers=null),!0})}),clearGutter:G(null,function(e){var t=0,r=this,n=r.view.doc;n.iter(0,n.size,function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,$(r,t,t+1),an(n.gutterMarkers)&&(n.gutterMarkers=null)),++t})}),addLineClass:G(null,function(e,t,r){return Vt(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[n]){if(RegExp("\\b"+r+"\\b").test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:G(null,function(e,t,r){return Vt(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.replace(RegExp("^"+r+"\\b\\s*|\\s*\\b"+r+"\\b"),"");if(o==i)return!1;e[n]=o||null}return!0})}),addLineWidget:G(null,function(e,t,r){var n=r||{};return n.node=t,n.noHScroll&&(this.display.alignWidgets=!0),Vt(this,e,function(e){return(e.widgets||(e.widgets=[])).push(n),n.line=e,!0}),n}),removeLineWidget:G(null,function(e){var t=e.line.widgets,r=Or(e.line);if(null!=r){for(var n=0;t.length>n;++n)t[n]==e&&t.splice(n--,1);$(this,r,r+1)}}),lineInfo:function(e){if("number"==typeof e){if(!At(this.view.doc,e))return null;var t=e;if(e=Ar(this.view.doc,e),!e)return null}else{var t=Or(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=V(this,Nt(this.view.doc,e));var l=e.top,a=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==n)l=e.top;else if("near"==n){var s=Math.max(o.wrapper.clientHeight,this.view.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);e.bottom+t.offsetHeight>s&&e.top>t.offsetHeight&&(l=e.top-t.offsetHeight),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=l+O(o)+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),r&&Ft(this,a,l,a+t.offsetWidth,l+t.offsetHeight)},lineCount:function(){return this.view.doc.size},clipPos:function(e){return Nt(this.view.doc,e)},getCursor:function(e){var t,r=this.view.sel;return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||e===!1?r.to:r.from,Tt(t)},somethingSelected:function(){return!Mt(this.view.sel.from,this.view.sel.to)},setCursor:G(null,function(e,t,r){var n=Nt(this.view.doc,"number"==typeof e?{line:e,ch:t||0}:e);r?Wt(this,n):Ot(this,n,n)}),setSelection:G(null,function(e,t){var r=this.view.doc;Ot(this,Nt(r,e),Nt(r,t||e))}),extendSelection:G(null,function(e,t){var r=this.view.doc;Wt(this,Nt(r,e),t&&Nt(r,t))}),setExtending:function(e){this.view.sel.extend=e},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){var t=this.view.doc;return At(t,e)?Ar(t,e):void 0},getLineNumber:function(e){return Or(e)},setLine:G(null,function(e,t){At(this.view.doc,e)&&Lt(this,t,{line:e,ch:0},{line:e,ch:Ar(this.view.doc,e).text.length})}),removeLine:G(null,function(e){At(this.view.doc,e)&&Lt(this,"",{line:e,ch:0},Nt(this.view.doc,{line:e+1,ch:0}))}),replaceRange:G(null,function(e,t,r){var n=this.view.doc;return t=Nt(n,t),r=r?Nt(n,r):t,Lt(this,e,t,r)}),getRange:function(e,t,r){var n=this.view.doc;e=Nt(n,e),t=Nt(n,t);var i=e.line,o=t.line;if(i==o)return Ar(n,i).text.slice(e.ch,t.ch);var l=[Ar(n,i).text.slice(e.ch)];return n.iter(i+1,o,function(e){l.push(e.text)}),l.push(Ar(n,o).text.slice(0,t.ch)),l.join(r||"\n")
},triggerOnKeyDown:G(null,mt),execCommand:function(e){return li[e](this)},moveH:G(null,function(e,t){var r=this.view.sel,n=0>e?r.from:r.to;(r.shift||r.extend||Mt(r.from,r.to))&&(n=Bt(this,e,t,!0)),Wt(this,n,n,e)}),deleteH:G(null,function(e,t){var r=this.view.sel;Mt(r.from,r.to)?Lt(this,"",r.from,Bt(this,e,t,!1),"delete"):Lt(this,"",r.from,r.to,"delete"),this.curOp.userSelChange=!0}),moveV:G(null,function(e,t){var r,n=this.view,i=n.doc,o=this.display,l=n.sel.head,a=V(this,l,"div"),s=a.left;if(null!=n.goalColumn&&(s=n.goalColumn),"page"==t){var u=Math.min(o.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=a.top+e*u}else"line"==t&&(r=e>0?a.bottom+3:a.top-3);do{var c=B(this,s,r);r+=5*e}while(c.outside&&(0>e?r>0:i.height>r));"page"==t&&(o.scrollbarV.scrollTop+=R(this,c,"div").top-a.top),Wt(this,c,c,e),n.goalColumn=s}),toggleOverwrite:function(){(this.view.overwrite=!this.view.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},posFromIndex:function(e){var t,r=0,n=this.view.doc;return n.iter(0,n.size,function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,++r,void 0)}),Nt(n,{line:r,ch:t})},indexFromPos:function(e){if(0>e.line||0>e.ch)return 0;var t=e.ch;return this.view.doc.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){null!=e&&(this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=e),null!=t&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=t),y(this,[])},getScrollInfo:function(){var e=this.display.scroller,t=ci;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e){"number"==typeof e&&(e={line:e,ch:0}),e=e?Nt(this.view.doc,e):this.view.sel.head,It(this,e)},setSize:function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(e+"")?e+"px":e}null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.refresh()},on:function(e,t){qr(this,e,t)},off:function(e,t){Gr(this,e,t)},operation:function(e){return G(this,e)()},refresh:function(){F(this),this.display.scroller.scrollHeight>this.view.scrollTop&&(this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=this.view.scrollTop),y(this,!0)},getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Qn=e.optionHandlers={},ei=e.defaults={},ti=e.Init={toString:function(){return"CodeMirror.Init"}};Ut("value","",function(e,t){e.setValue(t)},!0),Ut("mode",null,n,!0),Ut("indentUnit",2,n,!0),Ut("indentWithTabs",!1),Ut("smartIndent",!0),Ut("tabSize",4,function(e){n(e),F(e),y(e,!0)},!0),Ut("electricChars",!0),Ut("theme","default",function(e){l(e),a(e)},!0),Ut("keyMap","default",o),Ut("extraKeys",null),Ut("onKeyEvent",null),Ut("onDragEvent",null),Ut("lineWrapping",!1,i,!0),Ut("gutters",[],function(e){d(e.options),a(e)},!0),Ut("lineNumbers",!1,function(e){d(e.options),a(e)},!0),Ut("firstLineNumber",1,a,!0),Ut("lineNumberFormatter",function(e){return e},a,!0),Ut("showCursorWhenSelecting",!1,L,!0),Ut("readOnly",!1,function(e,t){"nocursor"==t?(yt(e),e.display.input.blur()):t||J(e,!0)}),Ut("dragDrop",!0),Ut("cursorBlinkRate",530),Ut("cursorHeight",1),Ut("workTime",100),Ut("workDelay",100),Ut("flattenSpans",!0),Ut("pollInterval",100),Ut("undoDepth",40),Ut("viewportMargin",10,function(e){e.refresh()},!0),Ut("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Ut("autofocus",null);var ri=e.modes={},ni=e.mimeModes={};e.defineMode=function(t,r){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){r.dependencies=[];for(var n=2;arguments.length>n;++n)r.dependencies.push(arguments[n])}ri[t]=r},e.defineMIME=function(e,t){ni[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ni.hasOwnProperty(t))t=ni[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=ri[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(ii.hasOwnProperty(r.name)){var o=ii[r.name];for(var l in o)o.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=o[l])}return i.name=r.name,i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ii=e.modeExtensions={};e.extendMode=function(e,t){var r=ii.hasOwnProperty(e)?ii[e]:ii[e]={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n])},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineOption=Ut;var oi=[];e.defineInitHook=function(e){oi.push(e)},e.copyState=_t,e.startState=qt,e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);t=r.state,e=r.mode}return r||{mode:e,state:t}};var li=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),r=e.getCursor(!1),n=!Mt(t,r);n||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,n?r:{line:t.line},"delete"):e.replaceRange("",t,{line:t.line+1,ch:0},"delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t},"delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection({line:0,ch:0})},goDocEnd:function(e){e.extendSelection({line:e.lineCount()-1})},goLineStart:function(e){e.extendSelection(bn(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),r=bn(e,t.line),n=e.getLineHandle(r.line),i=Hr(n);if(i&&0!=i[0].level)e.extendSelection(r);else{var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&o>=t.ch&&t.ch;e.extendSelection({line:r.line,ch:l?0:o})}},goLineEnd:function(e){e.extendSelection(wn(e,e.getCursor().line))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","input")},transposeChars:function(e){var t=e.getCursor(),r=e.getLine(t.line);t.ch>0&&t.ch<r.length-1&&e.replaceRange(r.charAt(t.ch)+r.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){G(e,function(){e.replaceSelection("\n","end","input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},ai=e.keyMap={};ai.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ai.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ai.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},ai["default"]=_n?ai.macDefault:ai.pcDefault,ai.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=Yt,e.fromTextArea=function(t,r){function n(){t.value=u.getValue()}if(r||(r={}),r.value=t.value,!r.tabindex&&t.tabindex&&(r.tabindex=t.tabindex),null==r.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form){qr(t.form,"submit",n);var l=t.form,a=l.submit;try{l.submit=function s(){n(),l.submit=a,l.submit(),l.submit=s}}catch(o){}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return u.save=n,u.getTextArea=function(){return t},u.toTextArea=function(){n(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(Gr(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=a))},u},Xt.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return Jr(this.string,this.start,this.tabSize)},indentation:function(){return Jr(this.string,null,this.tabSize)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};return i(this.string).indexOf(i(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=Xt,Zt.prototype.clear=function(){if(!this.explicitlyCleared){_(this.cm);for(var e=null,t=null,r=0;this.lines.length>r;++r){var n=this.lines[r],i=Qt(n.markedSpans,this);null!=i.to&&(t=Or(n)),n.markedSpans=er(n.markedSpans,i),null!=i.from?e=Or(n):this.collapsed&&!cr(n)&&Wr(n,K(this.cm.display))}null!=e&&$(this.cm,e,t+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.cm.view.cantEdit&&(this.cm.view.cantEdit=!1,Et(this.cm)),q(this.cm),Yr(this.cm,this,"clear")}},Zt.prototype.find=function(){for(var e,t,r=0;this.lines.length>r;++r){var n=this.lines[r],i=Qt(n.markedSpans,this);if(null!=i.from||null!=i.to){var o=Or(n);null!=i.from&&(e={line:o,ch:i.from}),null!=i.to&&(t={line:o,ch:i.to})}}return"bookmark"==this.type?e:e&&{from:e,to:t}},window.lineIsHidden=cr;var si={},ui=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;zr.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,r){for(var n=e,i=e+t;i>n;++n){var o=this.lines[n];this.height-=o.height,br(o),Yr(r,o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0,i=t.length;i>n;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},Nr.prototype={chunkSize:function(){return this.size},remove:function(e,t,r){this.size-=t;for(var n=0;this.children.length>n;++n){var i=this.children[n],o=i.chunkSize();if(o>e){var l=Math.min(t,o-e),a=i.height;if(i.remove(e,l,r),this.height-=a-i.height,o==l&&(this.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(25>this.size-t){var s=[];this.collapse(s),this.children=[new zr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0,r=this.children.length;r>t;++t)this.children[t].collapse(e)},insert:function(e,t){for(var r=0,n=0,i=t.length;i>n;++n)r+=t[n].height;this.insertHeight(e,t,r)},insertHeight:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],l=o.chunkSize();if(l>=e){if(o.insertHeight(e,t,r),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),s=new zr(a);o.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(10>=this.children.length)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Nr(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=rn(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Nr(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,r){this.iterN(e,t-e,r)},iterN:function(e,t,r){for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],l=o.chunkSize();if(l>e){var a=Math.min(t,l-e);if(o.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=l}}},e.e_stop=jr,e.e_preventDefault=Vr,e.e_stopPropagation=Br,e.on=qr,e.off=Gr,e.signal=$r;var ci=30,di=e.Pass={toString:function(){return"CodeMirror.Pass"}};Zr.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=Jr;var fi=[""],hi=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,pi=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/,mi=function(){if(En)return!1;var e=sn("div");return"draggable"in e||"dragDrop"in e}(),vi=/^$/;An?vi=/$'/:Pn?vi=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:In&&(vi=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var gi,yi,bi=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=bi;var wi=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},xi=function(){var e=sn("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ki={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=ki,function(){for(var e=0;10>e;e++)ki[e+48]=e+"";for(var e=65;90>=e;e++)ki[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)ki[e+111]=ki[e+63235]="F"+e}();var Ci=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?r.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,l=/[Lb1n]/,a=/[1n]/;return function(t){if(!n.test(t))return!1;for(var r,s=t.length,u=[],c=null,d=0;s>d;++d)u.push(r=e(t.charCodeAt(d))),null==c&&("L"==r?c="L":("R"==r||"r"==r)&&(c="R"));null==c&&(c="L");for(var d=0,f=c;s>d;++d){var r=u[d];"m"==r?u[d]=f:f=r}for(var d=0,h=c;s>d;++d){var r=u[d];"1"==r&&"r"==h?u[d]="n":o.test(r)&&(h=r,"r"==r&&(u[d]="R"))}for(var d=1,f=u[0];s-1>d;++d){var r=u[d];"+"==r&&"1"==f&&"1"==u[d+1]?u[d]="1":","!=r||f!=u[d+1]||"1"!=f&&"n"!=f||(u[d]=f),f=r}for(var d=0;s>d;++d){var r=u[d];if(","==r)u[d]="N";else if("%"==r){for(var p=d+1;s>p&&"%"==u[p];++p);for(var m=d&&"!"==u[d-1]||s-1>p&&"1"==u[p]?"1":"N",v=d;p>v;++v)u[v]=m;d=p-1}}for(var d=0,h=c;s>d;++d){var r=u[d];"L"==h&&"1"==r?u[d]="L":o.test(r)&&(h=r)}for(var d=0;s>d;++d)if(i.test(u[d])){for(var p=d+1;s>p&&i.test(u[p]);++p);for(var g="L"==(d?u[d-1]:c),y="L"==(s-1>p?u[p]:c),m=g||y?"L":"R",v=d;p>v;++v)u[v]=m;d=p-1}for(var b,w=[],d=0;s>d;)if(l.test(u[d])){var x=d;for(++d;s>d&&l.test(u[d]);++d);w.push({from:x,to:d,level:0})}else{var k=d,C=w.length;for(++d;s>d&&"L"!=u[d];++d);for(var v=k;d>v;)if(a.test(u[v])){v>k&&w.splice(C,0,{from:k,to:v,level:1});var L=v;for(++v;d>v&&a.test(u[v]);++v);w.splice(C,0,{from:L,to:v,level:2}),k=v}else++v;d>k&&w.splice(C,0,{from:k,to:d,level:1})}return 1==w[0].level&&(b=t.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift({from:0,to:b[0].length,level:0})),1==en(w).level&&(b=t.match(/\s+$/))&&(en(w).to-=b[0].length,w.push({from:s-b[0].length,to:s,level:0})),w[0].level!=en(w).level&&w.push({from:s,to:s,level:w[0].level}),w}}();return e.version="3.0",e}(),CodeMirror.defineMode("css",function(e){function t(e){for(var t={},r=0;e.length>r;++r)t[e[r]]=!0;return t}function r(e,t){return s=t,e}function n(e,t){var n=e.next();if("@"==n)return e.eatWhile(/[\w\\\-]/),r("def",e.current());if("/"==n&&e.eat("*"))return t.tokenize=i,i(e,t);if("<"==n&&e.eat("!"))return t.tokenize=o,o(e,t);if("="==n)r(null,"compare");else{if(("~"==n||"|"==n)&&e.eat("="))return r(null,"compare");if('"'==n||"'"==n)return t.tokenize=l(n),t.tokenize(e,t);if("#"==n)return e.eatWhile(/[\w\\\-]/),r("atom","hash");if("!"==n)return e.match(/^\s*\w*/),r("keyword","important");if(/\d/.test(n))return e.eatWhile(/[\w.%]/),r("number","unit");if("-"!==n)return/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier",s):":"==n?r("operator",n):/[;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=a,r("property","variable")):(e.eatWhile(/[\w\\\-]/),r("property","variable"));if(/\d/.test(e.peek()))return e.eatWhile(/[\w.%]/),r("number","unit");if(e.match(/^[^-]+-/))return r("meta",s)}}function i(e,t){for(var i,o=!1;null!=(i=e.next());){if(o&&"/"==i){t.tokenize=n;break}o="*"==i}return r("comment","comment")}function o(e,t){for(var i,o=0;null!=(i=e.next());){if(o>=2&&">"==i){t.tokenize=n;break}o="-"==i?o+1:0}return r("comment","comment")}function l(e,t){return function(i,o){for(var l,a=!1;null!=(l=i.next())&&(l!=e||a);)a=!a&&"\\"==l;return a||(t&&i.backUp(1),o.tokenize=n),r("string","string")}}function a(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\']/,!1)?n:l(")",!0),r(null,"(")}var s,u=e.indentUnit,c=t(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),d=t(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),f=t(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),h=t(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),p=t(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(t.tokenize==n&&e.eatSpace())return null;var r=t.tokenize(e,t),i=t.stack[t.stack.length-1];return"property"==r?"propertyValue"==i?r=p[e.current()]?"string-2":h[e.current()]?"keyword":"variable-2":"rule"==i?f[e.current()]||(r+=" error"):i&&"@media{"!=i?"@media"==i?r=c[e.current()]?"attribute":/^(only|not)$/i.test(e.current())?"keyword":"and"==e.current().toLowerCase()?"error":d[e.current()]?"error":"attribute error":"@mediaType"==i?r=c[e.current()]?"attribute":"and"==e.current().toLowerCase()?"operator":/^(only|not)$/i.test(e.current())?"error":d[e.current()]?"error":"error":"@mediaType("==i?f[e.current()]||(c[e.current()]?r="error":"and"==e.current().toLowerCase()?r="operator":/^(only|not)$/i.test(e.current())?r="error":r+=" error"):r="error":r="tag":"atom"==r?i&&"@media{"!=i?"propertyValue"==i?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())||(r+=" error"):r="error":r="builtin":"@media"==i&&"{"==s&&(r="error"),"{"==s?"@media"==i||"@mediaType"==i?(t.stack.pop(),t.stack[t.stack.length-1]="@media{"):t.stack.push("rule"):"}"==s?(t.stack.pop(),"propertyValue"==i&&t.stack.pop()):"@media"==s?t.stack.push("@media"):"@media"==i&&/\b(keyword|attribute)\b/.test(r)?t.stack.push("@mediaType"):"@mediaType"==i&&","==e.current()?t.stack.pop():"@mediaType"==i&&"("==s?t.stack.push("@mediaType("):"@mediaType("==i&&")"==s?t.stack.pop():"rule"==i&&":"==s?t.stack.push("propertyValue"):"propertyValue"==i&&";"==s&&t.stack.pop(),r
},indent:function(e,t){var r=e.stack.length;return/^\}/.test(t)&&(r-="propertyValue"==e.stack[e.stack.length-1]?2:1),e.baseIndent+r*u},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",function(e){function t(e,t){var r=o.token(e,t.htmlState);return/(?:^|\s)tag(?:\s|$)/.test(r)&&">"==e.current()&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=n,t.localState=l.startState(o.indent(t.htmlState,""))):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=i,t.localState=a.startState(o.indent(t.htmlState,"")))),r}function r(e,t,r){var n,i=e.current(),o=i.search(t);return o>-1?e.backUp(i.length-o):(n=i.match(/<\/?$/))&&(e.backUp(i.length),e.match(t,!1)||e.match(i[0])),r}function n(e,n){return e.match(/^<\/\s*script\s*>/i,!1)?(n.token=t,n.localState=null,t(e,n)):r(e,/<\/\s*script\s*>/,l.token(e,n.localState))}function i(e,n){return e.match(/^<\/\s*style\s*>/i,!1)?(n.token=t,n.localState=null,t(e,n)):r(e,/<\/\s*style\s*>/,a.token(e,n.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),l=CodeMirror.getMode(e,"javascript"),a=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:t,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==i?a:l,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,r){return e.token==t||/^\s*<\//.test(r)?o.indent(e.htmlState,r):e.token==n?l.indent(e.localState,r):a.indent(e.localState,r)},electricChars:"/{}:",innerMode:function(e){var r=e.token==t?o:e.token==n?l:a;return{state:e.localState||e.htmlState,mode:r}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(e,t){function r(e,t,r){return t.tokenize=r,r(e,t)}function n(e,t){for(var r,n=!1;null!=(r=e.next());){if(r==t&&!n)return!1;n=!n&&"\\"==r}return n}function i(e,t,r){return P=e,R=r,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return r(e,t,l(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return e.eat("*")?r(e,t,a):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(U),i("operator",null,e.current()));if("#"==o)return e.skipToEnd(),i("error","error");if(U.test(o))return e.eatWhile(U),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var s=e.current(),u=K.propertyIsEnumerable(s)&&K[s];return u&&"."!=t.lastType?i(u.type,u.style,s):i("variable","variable",s)}function l(e){return function(t,r){return n(t,e)||(r.tokenize=o),i("string","string")}}function a(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=o;break}n="*"==r}return i("comment","comment")}function s(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function u(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0}function c(e,t,r,n,i){var o=e.cc;for(q.state=e,q.stream=i,q.marked=null,q.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var l=o.length?o.pop():B?w:b;if(l(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return q.marked?q.marked:"variable"==r&&u(e,n)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)q.cc.push(arguments[e])}function f(){return d.apply(null,arguments),!0}function h(e){var t=q.state;if(t.context){q.marked="def";for(var r=t.localVars;r;r=r.next)if(r.name==e)return;t.localVars={name:e,next:t.localVars}}}function p(){q.state.context={prev:q.state.context,vars:q.state.localVars},q.state.localVars=G}function m(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}function v(e,t){var r=function(){var r=q.state;r.lexical=new s(r.indented,q.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function g(){var e=q.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?f():";"==e?d():f(arguments.callee)}}function b(e){return"var"==e?f(v("vardef"),A,y(";"),g):"keyword a"==e?f(v("form"),w,b,g):"keyword b"==e?f(v("form"),b,g):"{"==e?f(v("}"),T,g):";"==e?f():"function"==e?f(I):"for"==e?f(v("form"),y("("),v(")"),O,y(")"),g,b,g):"variable"==e?f(v("stat"),C):"switch"==e?f(v("form"),w,v("}","switch"),y("{"),T,g,g):"case"==e?f(w,y(":")):"default"==e?f(y(":")):"catch"==e?f(v("form"),p,y("("),F,y(")"),b,g,m):d(v("stat"),w,y(";"),g)}function w(e){return _.hasOwnProperty(e)?f(k):"function"==e?f(I):"keyword c"==e?f(x):"("==e?f(v(")"),x,y(")"),g,k):"operator"==e?f(w):"["==e?f(v("]"),S(w,"]"),g,k):"{"==e?f(v("}"),S(M,"}"),g,k):f()}function x(e){return e.match(/[;\}\)\],]/)?d():d(w)}function k(e,t){if("operator"==e&&/\+\+|--/.test(t))return f(k);if("operator"==e&&"?"==t)return f(w,y(":"),w);if(";"!=e)return"("==e?f(v(")"),S(w,")"),g,k):"."==e?f(L,k):"["==e?f(v("]"),w,y("]"),g,k):void 0}function C(e){return":"==e?f(g,b):d(k,y(";"),g)}function L(e){return"variable"==e?(q.marked="property",f()):void 0}function M(e){return"variable"==e&&(q.marked="property"),_.hasOwnProperty(e)?f(y(":"),w):void 0}function S(e,t){function r(n){return","==n?f(e,r):n==t?f():f(y(t))}return function(n){return n==t?f():d(e,r)}}function T(e){return"}"==e?f():d(b,T)}function z(e){return":"==e?f(N):d()}function N(e){return"variable"==e?(q.marked="variable-3",f()):d()}function A(e,t){return"variable"==e?(h(t),j?f(z,W):f(W)):d()}function W(e,t){return"="==t?f(w,W):","==e?f(A):void 0}function O(e){return"var"==e?f(A,y(";"),D):";"==e?f(D):"variable"==e?f(E):f(D)}function E(e,t){return"in"==t?f(w):f(k,D)}function D(e,t){return";"==e?f(H):"in"==t?f(w):f(w,y(";"),H)}function H(e){")"!=e&&f(w)}function I(e,t){return"variable"==e?(h(t),f(I)):"("==e?f(v(")"),p,S(F,")"),g,b,m):void 0}function F(e,t){return"variable"==e?(h(t),j?f(z):f()):void 0}var P,R,V=e.indentUnit,B=t.json,j=t.typescript,K=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},l={"if":t,"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o};if(j){var a={type:"variable",style:"variable-3"},s={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:a,number:a,bool:a,any:a};for(var u in s)l[u]=s[u]}return l}(),U=/[+\-*&%=<>!?|]/,_={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},q={state:null,column:null,marked:null,cc:null},G={name:"this",next:{name:"arguments"}};return g.lex=!0,{startState:function(e){return{tokenize:o,lastType:null,cc:[],lexical:new s((e||0)-V,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==P?r:(t.lastType=P,c(t,r,P,R,e))},indent:function(e,t){if(e.tokenize==a)return CodeMirror.Pass;if(e.tokenize!=o)return 0;var r=t&&t.charAt(0),n=e.lexical;"stat"==n.type&&"}"==r&&(n=n.prev);var i=n.type,l=r==i;return"vardef"==i?n.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==i&&"{"==r?n.indented:"form"==i?n.indented+V:"stat"==i?n.indented+("operator"==e.lastType||","==e.lastType?V:0):"switch"!=n.info||l?n.align?n.column+(l?0:1):n.indented+(l?0:V):n.indented+(/^(?:case|default)\b/.test(t)?V:2*V)},electricChars:":{}",jsonMode:B}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("xml",function(e,t){function r(e,t){function r(r){return t.tokenize=r,r(e,t)}var i=e.next();if("<"==i){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?r(o("atom","]]>")):null:e.match("--")?r(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(l(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta";var a=e.eat("/");b="";for(var s;s=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)b+=s;return b?(w=a?"closeTag":"openTag",t.tokenize=n,"tag"):"error"}if("&"==i){var u;return u=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),u?"atom":"error"}return e.eatWhile(/[^&<]/),null}function n(e,t){var n=e.next();return">"==n||"/"==n&&e.eat(">")?(t.tokenize=r,w=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(w="equals",null):/[\'\"]/.test(n)?(t.tokenize=i(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(e){return function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=n;break}return"string"}}function o(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function l(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=l(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=l(e-1),n.tokenize(t,n)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)x.cc.push(arguments[e])}function s(){return a.apply(null,arguments),!0}function u(e,t){var r=L.doNotIndent.hasOwnProperty(e)||x.context&&x.context.noIndent;x.context={prev:x.context,tagName:e,indent:x.indented,startOfLine:t,noIndent:r}}function c(){x.context&&(x.context=x.context.prev)}function d(e){if("openTag"==e)return x.tagName=b,s(m,f(x.startOfLine));if("closeTag"==e){var t=!1;return x.context?x.context.tagName!=b&&(L.implicitlyClosed.hasOwnProperty(x.context.tagName.toLowerCase())&&c(),t=!x.context||x.context.tagName!=b):t=!0,t&&(k="error"),s(h(t))}return s()}function f(e){return function(t){var r=x.tagName;return x.tagName=null,"selfcloseTag"==t||"endTag"==t&&L.autoSelfClosers.hasOwnProperty(r.toLowerCase())?(p(r.toLowerCase()),s()):"endTag"==t?(p(r.toLowerCase()),u(r,e),s()):s()}}function h(e){return function(t){return e&&(k="error"),"endTag"==t?(c(),s()):(k="error",s(arguments.callee))}}function p(e){for(var t;;){if(!x.context)return;if(t=x.context.tagName.toLowerCase(),!L.contextGrabbers.hasOwnProperty(t)||!L.contextGrabbers[t].hasOwnProperty(e))return;c()}}function m(e){return"word"==e?(k="attribute",s(v,m)):"endTag"==e||"selfcloseTag"==e?a():(k="error",s(m))}function v(e){return"equals"==e?s(g,m):(L.allowMissing?"word"==e&&(k="attribute"):k="error","endTag"==e||"selfcloseTag"==e?a():s())}function g(e){return"string"==e?s(y):"word"==e&&L.allowUnquoted?(k="string",s()):(k="error","endTag"==e||"selfCloseTag"==e?a():s())}function y(e){return"string"==e?s(y):a()}var b,w,x,k,C=e.indentUnit,L=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},M=t.alignCDATA;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;k=w=b=null;var r=t.tokenize(e,t);if(t.type=w,(r||w)&&"comment"!=r)for(x=t;;){var n=t.cc.pop()||d;if(n(w||r))break}return t.startOfLine=!1,k||r},indent:function(e,t,i){var o=e.context;if(e.tokenize!=n&&e.tokenize!=r||o&&o.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(M&&/<!\[CDATA\[/.test(t))return 0;for(o&&/^<\//.test(t)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+C:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});