if(!window.DHTMLSuite)var DHTMLSuite=new Object();DHTMLSuite.chainedSelect=function(){var targetSels;var sourceSels;var urls;var waitMessage;var layoutCss;var objectIndex;this.targetSels=new Array();this.sourceSels=new Array();this.urls= new Array();try{if(!standardObjectsCreated)DHTMLSuite.createStandardObjects()}catch(e){alert('Include the dhtmlSuite-common.js file')}
this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;;DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this}
DHTMLSuite.chainedSelect.prototype={init:function(){var ind=this.objectIndex;for(index=0;index<this.sourceSels.length;index++){sourceObj=document.getElementById(this.sourceSels[index]);eval('sourceObj.onchange=function(){DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__callURL('+index+')}')}},addChain:function(sourceSelId,targetSelId,URLToCall){var index=this.sourceSels.length;this.sourceSels[index]=sourceSelId;this.targetSels[index]=targetSelId;if(URLToCall.indexOf('?')==-1)
this.urls[index]=URLToCall+'?';else
this.urls[index]=URLToCall+'&'},__callURL:function(index){var ind = this.objectIndex;var sourceObj = document.getElementById(this.sourceSels[index]);var url = this.urls[index];var ajaxIndex = DHTMLSuite.variableStorage.ajaxObjects.length;try{DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex]=new sack()}catch(e){alert('Unable to create ajax object. Please make sure that the sack js file is included on your page');return}
DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].requestFile=url+'dg_key='+sourceObj.value;DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].onCompletion=function(){DHTMLSuite.variableStorage.arrayDSObjects[ind].__loadOptions(index,DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].response)};DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].runAJAX()},__loadOptions:function(index,optionsData){var targetObj = document.getElementById(this.targetSels[index]);targetObj.options.length=0;targetObj.options[targetObj.options.length]=new Option('select a item','');var options_array=optionsData.split("|");for(i=0;i<options_array.length;i++){var option_array=options_array[i].split(";");if(option_array.length>1)targetObj.options[targetObj.options.length]=new Option(option_array[0].trim(),option_array[1].trim())}}}